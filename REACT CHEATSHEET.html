<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>React JS Interactive Cheatsheet - Comprehensive Edition</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        /* --- CSS Variables for Theming (Light/Dark Mode) --- */
        :root {
            --bg-gradient-start: #61DAFB;
            --bg-gradient-end: #282c34;
            --container-bg: rgba(255, 255, 255, 0.98);
            --text-color: #333;
            --header-bg-start: #20232a;
            --header-bg-end: #282c34;
            --header-text: #61DAFB;
            --section-bg: #f8f9fa;
            --section-border: #61DAFB;
            --section-h2: #20232a;
            --section-h3: #282c34;
            --card-bg: white;
            --card-border: #61DAFB;
            --code-bg: #282c34;
            --code-text: #f8f8f2;
            --interactive-btn-bg: #61DAFB;
            --interactive-btn-hover: #4fa8d3;
            --search-bg: #eefcff;
            --search-border: #a7d8e8;
            --search-focus-border: #61DAFB;
            --search-focus-shadow: rgba(97, 218, 251, 0.2);
            --highlight-bg: #ffeb3b;
            --highlight-text: #333;
            --toc-bg: rgba(255, 255, 255, 0.1);
            --toc-link-bg: rgba(255, 255, 255, 0.7);
            --toc-link-hover-bg: white;
            --toc-link-text: #282c34;
            --footer-bg: #20232a;
            --footer-text: #bdc3c7;
        }

        body.dark-mode {
            --bg-gradient-start: #0f172a;
            --bg-gradient-end: #1e293b;
            --container-bg: rgba(26, 42, 69, 0.98);
            --text-color: #e0e0e0;
            --header-bg-start: #0d1117;
            --header-bg-end: #161b22;
            --header-text: #61DAFB;
            --section-bg: #1e2a47;
            --section-border: #58a6ff;
            --section-h2: #58a6ff;
            --section-h3: #79c0ff;
            --card-bg: #16223f;
            --card-border: #58a6ff;
            --code-bg: #0d1117;
            --code-text: #d4d4d4;
            --interactive-btn-bg: #58a6ff;
            --interactive-btn-hover: #79c0ff;
            --search-bg: #16223f;
            --search-border: #388bfd;
            --search-focus-border: #58a6ff;
            --search-focus-shadow: rgba(88, 166, 255, 0.2);
            --highlight-bg: #f8e71c;
            --highlight-text: #111;
            --toc-bg: rgba(0, 0, 0, 0.2);
            --toc-link-bg: #1e2a47;
            --toc-link-hover-bg: #16223f;
            --toc-link-text: #b0cfff;
            --footer-bg: #0d1117;
            --footer-text: #7f8c8d;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html {
            scroll-behavior: smooth;
        }

        body {
            font-family: 'Poppins', sans-serif;
            line-height: 1.6;
            color: var(--text-color);
            background: linear-gradient(135deg, var(--bg-gradient-start) 0%, var(--bg-gradient-end) 100%);
            min-height: 100vh;
            padding: 20px;
            transition: background 0.3s ease, color 0.3s ease;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: var(--container-bg);
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
        }

        .header {
            background: linear-gradient(135deg, var(--header-bg-start), var(--header-bg-end));
            color: var(--header-text);
            padding: 40px;
            text-align: center;
            border-radius: 10px 10px 0 0;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .header-content {
            flex-grow: 1;
        }

        .header h1 {
            font-size: 3rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
        }

        .header h1 svg {
            width: 50px;
            height: 50px;
            animation: spin 20s linear infinite;
        }

        @keyframes spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        .header p {
            font-size: 1.2rem;
            opacity: 0.9;
            margin-bottom: 10px;
        }

        .author-credit {
            font-size: 0.9rem;
            font-style: italic;
            opacity: 0.8;
            margin-top: 15px;
        }

        .content {
            padding: 40px;
        }

        /* Table of Contents Styles */
        .toc-container {
            padding: 20px 40px;
            background: var(--toc-bg);
            border-bottom: 2px solid var(--section-border);
        }
        .toc-container h3 {
            text-align: center;
            margin-bottom: 15px;
            color: var(--section-h2);
            font-size: 1.2rem;
        }
        .toc-container ul {
            list-style-type: none;
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 10px;
            padding: 0;
        }
        .toc-container li a {
            display: block;
            padding: 8px 15px;
            background-color: var(--toc-link-bg);
            color: var(--toc-link-text);
            text-decoration: none;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: 600;
            transition: all 0.3s ease;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        .toc-container li a:hover {
            background-color: var(--toc-link-hover-bg);
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.15);
        }

        .section {
            margin-bottom: 40px;
            background: var(--section-bg);
            border-radius: 15px;
            padding: 30px;
            border-left: 5px solid var(--section-border);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.8s ease-out, transform 0.8s ease-out, background 0.3s ease;
        }

        .section.is-visible {
            opacity: 1;
            transform: translateY(0);
        }

        .section h2 {
            color: var(--section-h2);
            font-size: 1.8rem;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid var(--section-border);
        }

        .section h3 {
            color: var(--section-h3);
            font-size: 1.5rem;
            margin: 30px 0 15px 0;
        }
        
        .section h4 {
            color: var(--section-h3);
            font-size: 1.2rem;
            margin: 20px 0 10px 0;
        }

        .code-block {
            background: var(--code-bg);
            border-radius: 10px;
            padding: 20px;
            margin: 15px 0;
            overflow-x: auto;
            box-shadow: inset 0 2px 10px rgba(0, 0, 0, 0.3);
        }

        .code-block pre {
            color: var(--code-text);
            font-family: 'Consolas', 'Monaco', 'Courier New', monospace;
            font-size: 14px;
            line-height: 1.8;
            white-space: pre-wrap;
            word-wrap: break-word;
        }

        /* Syntax highlighting */
        .keyword { color: #569cd6; }
        .string { color: #ce9178; }
        .number { color: #b5cea8; }
        .comment { color: #6a9955; font-style: italic; }
        .function { color: #dcdcaa; }
        .variable { color: #9cdcfe; }
        .tag { color: #569cd6; }
        .attr-name { color: #9cdcfe; }
        .attr-value { color: #ce9178; }
        .operator { color: #d4d4d4; }
        .punctuation { color: #d4d4d4; }


        .example { background: #e8f5e8; border: 1px solid #4caf50; border-radius: 8px; padding: 15px; margin: 15px 0; }
        .example h4 { color: #2e7d32; margin-bottom: 10px; }
        .warning { background: #fff3cd; border: 1px solid #ffc107; padding: 15px; margin: 15px 0; border-radius: 8px; }
        .warning h4 { color: #856404; margin-bottom: 10px; }
        .error-section { background: #ffebee; border: 1px solid #f44336; padding: 15px; margin: 15px 0; border-radius: 8px;}
        .error-section h4 { color: #c62828; margin-bottom: 10px; }

        body.dark-mode .example { background: #1c3d1f; border-color: #4caf50; }
        body.dark-mode .example h4 { color: #a5d6a7; }
        body.dark-mode .warning { background: #4d3800; border-color: #ffc107; }
        body.dark-mode .warning h4 { color: #ffecb3; }
        body.dark-mode .error-section { background: #4e1a1e; border-color: #f44336; }
        body.dark-mode .error-section h4 { color: #ef9a9a; }

        .grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px; margin: 20px 0; }
        .card { background: var(--card-bg); border-radius: 10px; padding: 20px; box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1); border-left: 4px solid var(--card-border); transition: transform 0.3s ease, box-shadow 0.3s ease, background 0.3s ease; overflow-wrap: break-word; word-wrap: break-word; margin-bottom: 20px; }
        .card:hover { transform: translateY(-5px); box-shadow: 0 10px 20px rgba(0, 0, 0, 0.15); }
        .card h4 { color: var(--section-h2); margin-bottom: 15px; }

        .interactive-btn { background: var(--interactive-btn-bg); color: #20232a; border: none; padding: 10px 20px; border-radius: 5px; cursor: pointer; margin: 10px 5px; transition: all 0.3s ease; font-weight: 600; }
        .interactive-btn:hover { background: var(--interactive-btn-hover); transform: translateY(-2px); box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2); }
        .interactive-btn:active { transform: translateY(0); box-shadow: none; }

        .output { background: #2c3e50; color: #ecf0f1; padding: 15px; border-radius: 8px; margin: 10px 0; font-family: monospace; min-height: 40px; }
        body.dark-mode .output { background: var(--card-bg); }
        
        .search-container { display: flex; justify-content: center; align-items: center; margin-bottom: 30px; padding: 15px; background: var(--search-bg); border-radius: 10px; box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05); position: sticky; top: 0; z-index: 1000; transition: box-shadow 0.3s ease, background-color 0.3s ease; }
        .search-container.sticky-shadow { box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2); background-color: var(--container-bg); }
        .search-container input[type="text"] { flex-grow: 1; padding: 12px 15px; border: 2px solid var(--search-border); border-radius: 8px; font-size: 1rem; outline: none; transition: border-color 0.3s ease, box-shadow 0.3s ease; background-color: var(--card-bg); color: var(--text-color); }
        .search-container input[type="text"]:focus { border-color: var(--search-focus-border); box-shadow: 0 0 0 3px var(--search-focus-shadow); }
        .search-container button { margin-left: 10px; padding: 12px 25px; background: #61DAFB; color: #20232a; border: none; border-radius: 8px; font-size: 1rem; font-weight: 600; cursor: pointer; transition: background-color 0.3s ease, transform 0.2s ease, box-shadow 0.3s ease; }
        .search-container button:hover { background: #4fa8d3; transform: translateY(-1px); box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2); }
        .search-container button:active { transform: translateY(0); box-shadow: none; }

        .highlight { background-color: var(--highlight-bg); color: var(--highlight-text); padding: 2px 4px; border-radius: 3px; font-weight: bold; }
        .current-search-match {
            outline: 2px solid var(--interactive-btn-hover);
            animation: pulse-highlight 1.2s infinite;
            border-radius: 3px;
        }
        @keyframes pulse-highlight {
            0% { box-shadow: 0 0 0 0 rgba(97, 218, 251, 0.7); }
            70% { box-shadow: 0 0 0 10px rgba(97, 218, 251, 0); }
            100% { box-shadow: 0 0 0 0 rgba(97, 218, 251, 0); }
        }
        
        /* --- Dark Mode Toggle --- */
        .theme-switch-wrapper { 
            position: fixed;
            bottom: 80px;
            right: 25px;
            z-index: 100;
        }
        .theme-switch { display: inline-block; height: 34px; position: relative; width: 60px; }
        .theme-switch input { display:none; }
        .slider { background-color: #ccc; bottom: 0; cursor: pointer; left: 0; position: absolute; right: 0; top: 0; transition: .4s; border-radius: 34px; }
        .slider:before { background-color: #fff; bottom: 4px; content: ""; height: 26px; left: 4px; position: absolute; transition: .4s; width: 26px; border-radius: 50%; }
        input:checked + .slider { background-color: #61DAFB; }
        input:checked + .slider:before { transform: translateX(26px); }

        /* --- Back to Top Button --- */
        #backToTopBtn { display: none; position: fixed; bottom: 20px; right: 30px; z-index: 99; border: none; outline: none; background-color: var(--interactive-btn-bg); color: white; cursor: pointer; padding: 15px; border-radius: 50%; font-size: 18px; width: 50px; height: 50px; box-shadow: 0 4px 8px rgba(0,0,0,0.2); transition: background-color 0.3s, opacity 0.3s, transform 0.3s; }
        #backToTopBtn:hover { background-color: var(--interactive-btn-hover); transform: translateY(-3px); }

        /* --- Search Navigation --- */
        #searchNav {
            display: none; /* Hidden by default */
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            background-color: var(--header-bg-end);
            color: var(--header-text);
            padding: 8px 15px;
            border-radius: 50px;
            z-index: 1001;
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
            align-items: center;
            gap: 15px;
        }
        #searchNav button {
            background: var(--interactive-btn-bg);
            color: white;
            border: none;
            border-radius: 50%;
            width: 35px;
            height: 35px;
            font-size: 1.2rem;
            line-height: 1;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        #searchNav button:hover {
            background: var(--interactive-btn-hover);
        }
        #searchNavCount {
            font-weight: bold;
            font-size: 0.9rem;
            min-width: 60px;
            text-align: center;
        }
        
        /* Footer Styles */
        .footer {
            background-color: var(--footer-bg);
            color: var(--footer-text);
            text-align: center;
            padding: 20px;
            margin-top: 40px;
            font-size: 0.9rem;
            border-radius: 0 0 10px 10px;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            body { padding: 10px; }
            .header { padding: 20px; flex-direction: column; }
            .header-content { text-align: center; margin-bottom: 15px; }
            .header h1 { font-size: 2rem; }
            .content { padding: 20px; }
            .toc-container { padding: 15px 20px; }
            .section { padding: 20px; }
            .code-block pre { font-size: 12px; }
            .grid { grid-template-columns: 1fr; }
        }

        @media (max-width: 480px) {
            .header h1 { font-size: 1.8rem; }
            .section h2 { font-size: 1.4rem; }
            .section h3 { font-size: 1.2rem; }
        }
    </style>
<body>
    <div class="container">
        <header class="header">
            <div class="header-content">
                <h1>
                    <svg viewBox="-11.5 -10.23174 23 20.46348">
                        <circle cx="0" cy="0" r="2.05" fill="#61DAFB"/>
                        <g stroke="#61DAFB" stroke-width="1" fill="none">
                            <ellipse rx="11" ry="4.2"/>
                            <ellipse rx="11" ry="4.2" transform="rotate(60)"/>
                            <ellipse rx="11" ry="4.2" transform="rotate(120)"/>
                        </g>
                    </svg>
                    React JS Cheatsheet
                </h1>
                <p>A comprehensive, interactive guide to modern React development.</p>
                <p class="author-credit">by XenoDesigns</p>
            </div>
        </header>

        <nav id="tocNav" class="toc-container">
            <h3>Quick Navigation</h3>
            <ul><!-- TOC items will be dynamically inserted here --></ul>
        </nav>

        <main class="content">
            <!-- Search Bar -->
            <div class="search-container" id="searchContainer">
                <input type="text" id="searchInput" placeholder="Search topics (e.g., useState, props, Next.js)...">
                <button id="searchButton">Search</button>
                <button id="clearSearchButton" style="background: #e74c3c;">Clear</button>
            </div>

            <!-- Introduction to React -->
            <section class="section" data-topic="React JS Introduction">
                <h2>⚛️ React JS Introduction</h2>
                <div class="example">
                    <h4>What is React?</h4>
                    <p>React is a free and open-source front-end JavaScript library for building user interfaces based on components. It is maintained by Meta (formerly Facebook) and a community of individual developers and companies.</p>
                    <p>React can be used as a base in the development of single-page, mobile, or server-rendered applications with frameworks like Next.js.</p>
                </div>
                
                <h3>Key Features of React</h3>
                <div class="grid">
                    <div class="card">
                        <h4>Component-Based</h4>
                        <p>Build encapsulated components that manage their own state, then compose them to make complex UIs.</p>
                    </div>
                    <div class="card">
                        <h4>Declarative</h4>
                        <p>Describe what your UI should look like for any given state, and React will efficiently update and render just the right components when your data changes.</p>
                    </div>
                    <div class="card">
                        <h4>Virtual DOM</h4>
                        <p>React creates an in-memory data structure cache, computes the resulting differences, and then updates the browser's displayed DOM efficiently.</p>
                    </div>
                </div>
            </section>

            <!-- Installation & Environment -->
            <section class="section" data-topic="Installation & Environment">
                <h2>🚀 Installation & Environment</h2>
                <p>To get started with React, you'll need Node.js and npm (or yarn/pnpm) installed on your machine. The recommended way to create a new React app is by using a framework.</p>

                <h3>Creating a React App</h3>
                <div class="card">
                    <h4>Using Vite (Recommended for SPAs)</h4>
                    <p>Vite is a modern build tool that provides an extremely fast development experience for React.</p>
                    <div class="code-block"><pre><span class="comment"># Create a new React project with Vite</span>
<span class="variable">npm create vite@latest my-react-app -- --template react</span>

<span class="comment"># Navigate into the project directory</span>
<span class="variable">cd my-react-app</span>

<span class="comment"># Install dependencies</span>
<span class="variable">npm install</span>

<span class="comment"># Start the development server</span>
<span class="variable">npm run dev</span></pre></div>
                </div>
                <div class="card">
                    <h4>Using Next.js (Recommended for Production Apps)</h4>
                    <p>Next.js is a popular React framework that provides features like server-side rendering, static site generation, routing, and more out of the box.</p>
                    <div class="code-block"><pre><span class="comment"># Create a new Next.js project</span>
<span class="variable">npx create-next-app@latest my-next-app</span>

<span class="comment"># Navigate into the project directory</span>
<span class="variable">cd my-next-app</span>

<span class="comment"># Start the development server</span>
<span class="variable">npm run dev</span></pre></div>
                </div>
                 <div class="card">
                    <h4>Using Create React App (Legacy)</h4>
                    <p>Create React App was the traditional way to start React projects, but is no longer recommended by the React team.</p>
                    <div class="code-block"><pre><span class="comment"># Note: This is now considered legacy</span>
<span class="variable">npx create-react-app my-app</span></pre></div>
                </div>
                <div class="card">
                    <h4>Creating a TypeScript App</h4>
                    <p>To use TypeScript, you can use a specific template during project creation.</p>
                    <div class="code-block"><pre><span class="comment"># Vite with TypeScript</span>
<span class="variable">npm create vite@latest my-ts-app -- --template react-ts</span>

<span class="comment"># Next.js with TypeScript</span>
<span class="comment"># create-next-app will prompt you to use TypeScript by default</span>
<span class="variable">npx create-next-app@latest my-next-ts-app</span></pre></div>
                </div>
            </section>
            
            <!-- Getting Started with React -->
            <section class="section" data-topic="Getting Started with React">
                <h2>🏁 Getting Started with React</h2>
                <p>Once your project is set up, you'll primarily work with JavaScript files (with `.jsx` or `.tsx` extensions) to create components.</p>
                
                <h3>Project Structure (Vite Example)</h3>
                <div class="code-block"><pre>my-react-app/
├── node_modules/
├── public/
│   └── vite.svg
├── src/
│   ├── assets/
│   ├── App.css
│   ├── App.jsx       <span class="comment">&lt;-- Main application component</span>
│   ├── index.css
│   └── main.jsx      <span class="comment">&lt;-- Entry point, renders App to the DOM</span>
├── .gitignore
├── index.html      <span class="comment">&lt;-- The single HTML page</span>
├── package.json
└── vite.config.js</pre></div>

                <h3>The Entry Point: `main.jsx`</h3>
                <p>This file is where your React application is attached to the HTML DOM.</p>
                <div class="code-block"><pre><span class="keyword">import</span> <span class="variable">React</span> <span class="keyword">from</span> <span class="string">'react'</span>;
<span class="keyword">import</span> <span class="variable">ReactDOM</span> <span class="keyword">from</span> <span class="string">'react-dom/client'</span>;
<span class="keyword">import</span> <span class="variable">App</span> <span class="keyword">from</span> <span class="string">'./App.jsx'</span>;
<span class="keyword">import</span> <span class="string">'./index.css'</span>;

<span class="comment">// Find the root DOM element</span>
<span class="keyword">const</span> <span class="variable">rootElement</span> = document.getElementById(<span class="string">'root'</span>);

<span class="comment">// Create a React root and render the App component into it</span>
ReactDOM.createRoot(<span class="variable">rootElement</span>).render(
  &lt;<span class="tag">React.StrictMode</span>&gt;
    &lt;<span class="tag">App</span> /&gt;
  &lt;/<span class="tag">React.StrictMode</span>&gt;,
);</pre></div>
            </section>

            <!-- Virtual DOM -->
            <section class="section" data-topic="Virtual DOM">
                <h2>👻 Virtual DOM</h2>
                <p>The Virtual DOM (VDOM) is a programming concept where a virtual representation of a UI is kept in memory and synced with the "real" DOM. This is a key to React's performance.</p>
                
                <h3>How it Works</h3>
                <ol>
                    <li>When the state of a component changes, React creates a new virtual DOM tree.</li>
                    <li>React then compares ("diffs") this new tree with the previous one.</li>
                    <li>It calculates the most efficient way to make these changes to the real DOM.</li>
                    <li>Only the updated elements are changed in the real DOM, minimizing costly DOM manipulations.</li>
                </ol>
                <div class="example">
                    <h4>Analogy</h4>
                    <p>Think of it like having a blueprint of your house (Virtual DOM). When you want to change a room, you first update the blueprint. Then you compare the new blueprint to the old one to see exactly what changed (a wall moved, a window added). Finally, you only send workers to make those specific changes to the actual house (Real DOM), instead of rebuilding the entire house.</p>
                </div>
            </section>

            <!-- JSX and HTML -->
            <section class="section" data-topic="JSX HTML Variables Attributes Style Loops Conditional Operators">
                <h2>📝 JSX: JavaScript XML</h2>
                <p>JSX is a syntax extension for JavaScript that looks very similar to HTML. It allows you to write declarative, HTML-like code inside your JavaScript files, which Babel then compiles into `React.createElement()` calls.</p>
                
                <h3>JSX vs. HTML</h3>
                <div class="grid">
                    <div class="card">
                        <h4>Embedding Expressions</h4>
                        <p>You can embed any JavaScript expression (variables, function calls, etc.) inside JSX by wrapping it in curly braces `{}`.</p>
                        <div class="code-block"><pre><span class="keyword">const</span> <span class="variable">name</span> = <span class="string">'Alice'</span>;
<span class="keyword">const</span> <span class="variable">element</span> = &lt;<span class="tag">h1</span>&gt;<span class="punctuation">Hello, {name.toUpperCase()}! 2 + 2 = {2 + 2}</span>&lt;/<span class="tag">h1</span>&gt;;</pre></div>
                    </div>
                    <div class="card">
                        <h4>Attributes</h4>
                        <p>JSX uses camelCase for most HTML attributes. `class` becomes `className` and `for` becomes `htmlFor`.</p>
                        <div class="code-block"><pre>&lt;<span class="tag">div</span> <span class="attr-name">className</span>=<span class="attr-value">"my-class"</span>&gt;
  &lt;<span class="tag">label</span> <span class="attr-name">htmlFor</span>=<span class="attr-value">"nameInput"</span>&gt;<span class="punctuation">Name</span>&lt;/<span class="tag">label</span>&gt;
&lt;/<span class="tag">div</span>&gt;</pre></div>
                    </div>
                </div>

                <h3>Styling in React</h3>
                <div class="grid">
                    <div class="card">
                        <h4>Inline Styles</h4>
                        <p>Pass a JavaScript object to the `style` attribute. Property names are camelCased.</p>
                        <div class="code-block"><pre><span class="keyword">const</span> <span class="variable">divStyle</span> = {
  <span class="variable">color</span>: <span class="string">'blue'</span>,
  <span class="variable">backgroundColor</span>: <span class="string">'#f0f0f0'</span>,
  <span class="variable">fontSize</span>: <span class="string">'16px'</span>
};

<span class="keyword">function</span> <span class="function">StyledComponent</span>() {
  <span class="keyword">return</span> &lt;<span class="tag">div</span> <span class="attr-name">style</span>={divStyle}&gt;<span class="punctuation">This is a styled div.</span>&lt;/<span class="tag">div</span>&gt;;
}</pre></div>
                    </div>
                    <div class="card">
                        <h4>CSS Stylesheets</h4>
                        <p>Import a CSS file directly into your component file. This is the most common method.</p>
                        <div class="code-block"><pre><span class="comment">// In MyComponent.css</span>
<span class="comment">.my-component {</span>
<span class="comment">  color: red;</span>
<span class="comment">}</span>

<span class="comment">// In MyComponent.jsx</span>
<span class="keyword">import</span> <span class="string">'./MyComponent.css'</span>;

<span class="keyword">function</span> <span class="function">MyComponent</span>() {
  <span class="keyword">return</span> &lt;<span class="tag">div</span> <span class="attr-name">className</span>=<span class="attr-value">"my-component"</span>&gt;<span class="punctuation">Styled with CSS file.</span>&lt;/<span class="tag">div</span>&gt;;
}</pre></div>
                    </div>
                </div>

                <h3>Conditional Rendering</h3>
                <div class="grid">
                    <div class="card">
                        <h4>Ternary Operator</h4>
                        <p>Use for simple if-else logic directly in your JSX.</p>
                        <div class="code-block"><pre><span class="keyword">function</span> <span class="function">LoginStatus</span>({ <span class="variable">isLoggedIn</span> }) {
  <span class="keyword">return</span> (
    &lt;<span class="tag">div</span>&gt;
      {isLoggedIn ? &lt;<span class="tag">h2</span>&gt;<span class="punctuation">Welcome back!</span>&lt;/<span class="tag">h2</span>&gt; : &lt;<span class="tag">h2</span>&gt;<span class="punctuation">Please log in.</span>&lt;/<span class="tag">h2</span>&gt;}
    &lt;/<span class="tag">div</span>&gt;
  );
}</pre></div>
                    </div>
                    <div class="card">
                        <h4>Logical `&&` Operator</h4>
                        <p>Use when you want to render something only if a condition is true.</p>
                        <div class="code-block"><pre><span class="keyword">function</span> <span class="function">Mailbox</span>({ <span class="variable">unreadMessages</span> }) {
  <span class="keyword">return</span> (
    &lt;<span class="tag">div</span>&gt;
      {unreadMessages.length > 0 &&
        &lt;<span class="tag">h3</span>&gt;
          <span class="punctuation">You have {unreadMessages.length} unread messages.</span>
        &lt;/<span class="tag">h3</span>&gt;
      }
    &lt;/<span class="tag">div</span>&gt;
  );
}</pre></div>
                    </div>
                </div>

                <h3>Rendering Lists (Loops)</h3>
                <p>Use the `.map()` array method to transform an array of data into an array of JSX elements. **Always provide a unique `key` prop for each item in the list.**</p>

                <div class="card">
                    <h4>The `src` Attribute</h4>
                    <p>When including images, you can import the image file directly into your component. This tells the build tool (like Vite or Create React App) to include the image in the build folder.</p>
                    <div class="code-block"><pre><span class="keyword">import</span> <span class="variable">logo</span> <span class="keyword">from</span> <span class="string">'./logo.png'</span>; <span class="comment">// Tell webpack this JS file uses this image</span>

<span class="keyword">function</span> <span class="function">Header</span>() {
  <span class="comment">// logo will be a string like '/static/media/logo.5d5d9eef.png'</span>
  <span class="keyword">return</span> &lt;<span class="tag">img</span> <span class="attr-name">src</span>={logo} <span class="attr-name">alt</span>=<span class="attr-value">"Logo"</span> /&gt;;
}</pre></div>
                </div>
                <div class="code-block"><pre><span class="keyword">function</span> <span class="function">TodoList</span>({ <span class="variable">todos</span> }) {
  <span class="keyword">const</span> <span class="variable">listItems</span> = todos.map((<span class="variable">todo</span>) =>
    &lt;<span class="tag">li</span> <span class="attr-name">key</span>={todo.id}&gt;
      {todo.text}
    &lt;/<span class="tag">li</span>&gt;
  );
  <span class="keyword">return</span> &lt;<span class="tag">ul</span>&gt;<span class="punctuation">{listItems}</span>&lt;/<span class="tag">ul</span>&gt;;
}

<span class="keyword">const</span> <span class="variable">myTodos</span> = [
  { <span class="variable">id</span>: <span class="string">'a'</span>, <span class="variable">text</span>: <span class="string">'Learn React'</span> },
  { <span class="variable">id</span>: <span class="string">'b'</span>, <span class="variable">text</span>: <span class="string">'Build a project'</span> }
];

<span class="comment">// Usage: &lt;TodoList todos={myTodos} /&gt;</span></pre></div>
                
                <h3>JSX Bad Practices</h3>
                <div class="warning">
                    <h4>Common Mistakes</h4>
                    <ul>
                        <li><strong>Not using a single root element:</strong> Components must return a single root element. Wrap multiple elements in a `&lt;div&gt;` or a Fragment `&lt;&gt;...&lt;/&gt;`.</li>
                        <li><strong>Forgetting `key` in lists:</strong> React uses `key` to identify which items have changed, are added, or are removed. Forgetting it leads to performance issues and bugs.</li>
                        <li><strong>Mutating state directly:</strong> Never change state directly (e.g., `this.state.count++`). Always use the `setState` function.</li>
                    </ul>
                </div>
            </section>

            <!-- Components In-Depth -->
            <section class="section" data-topic="Components In-Depth Create Use HOC Common Mistakes">
                <h2>🧩 Components In-Depth</h2>
                <p>Components are the core of React. Mastering how to create, compose, and reuse them is essential.</p>

                <h3>Creating and Using Components</h3>
                <p>A component is a self-contained, reusable piece of UI. It's best practice to keep components in their own files.</p>
                <div class="code-block"><pre><span class="comment">// components/Button.jsx</span>
<span class="keyword">export default function</span> <span class="function">Button</span>({ <span class="variable">onClick</span>, <span class="variable">children</span> }) {
  <span class="keyword">return</span> (
    &lt;<span class="tag">button</span> <span class="attr-name">onClick</span>={onClick} <span class="attr-name">className</span>=<span class="attr-value">"interactive-btn"</span>&gt;
      {children}
    &lt;/<span class="tag">button</span>&gt;
  );
}

<span class="comment">// App.jsx</span>
<span class="keyword">import</span> <span class="variable">Button</span> <span class="keyword">from</span> <span class="string">'./components/Button.jsx'</span>;

<span class="keyword">function</span> <span class="function">App</span>() {
  <span class="keyword">const</span> <span class="function">handleGreeting</span> = () => {
    alert(<span class="string">'Hello!'</span>);
  };
  <span class="keyword">return</span> (
    &lt;<span class="tag">div</span>&gt;
      &lt;<span class="tag">Button</span> <span class="attr-name">onClick</span>={handleGreeting}&gt;<span class="punctuation">Say Hello</span>&lt;/<span class="tag">Button</span>&gt;
    &lt;/<span class="tag">div</span>&gt;
  );
}</pre></div>

                <h3>Component Types</h3>
                <div class="grid">
                    <div class="card">
                        <h4>Functional Components (Recommended)</h4>
                        <p>Simple JavaScript functions that accept props and return JSX. With Hooks, they can manage state and side effects.</p>
                    </div>
                    <div class="card">
                        <h4>Class Components (Legacy)</h4>
                        <p>ES6 classes that extend `React.Component`. They have a `render()` method and manage state with `this.state`.</p>
                    </div>
                    <div class="card">
                        <h4>Pure Components</h4>
                        <p>A type of class component that performs a shallow comparison on props and state to prevent unnecessary re-renders.</p>
                    </div>
                </div>

                <h3>Higher-Order Components (HOC)</h3>
                <p>A Higher-Order Component is an advanced pattern for reusing component logic. An HOC is a function that takes a component and returns a new component with additional props or logic.</p>
                <div class="code-block"><pre><span class="comment">// This HOC adds a border to any component passed to it.</span>
<span class="keyword">function</span> <span class="function">withBorder</span>(<span class="variable">WrappedComponent</span>) {
  <span class="comment">// It returns a new component...</span>
  <span class="keyword">return function</span>(<span class="variable">props</span>) {
    <span class="keyword">const</span> <span class="variable">style</span> = { <span class="variable">border</span>: <span class="string">'2px solid red'</span>, <span class="variable">padding</span>: <span class="string">'10px'</span> };
    <span class="keyword">return</span> (
      &lt;<span class="tag">div</span> <span class="attr-name">style</span>={style}&gt;
        &lt;<span class="tag">WrappedComponent</span> {...props} /&gt;
      &lt;/<span class="tag">div</span>&gt;
    );
  }
}

<span class="keyword">function</span> <span class="function">Welcome</span>({ <span class="variable">name</span> }) {
  <span class="keyword">return</span> &lt;<span class="tag">h1</span>&gt;<span class="punctuation">Hello, {name}</span>&lt;/<span class="tag">h1</span>&gt;;
}

<span class="comment">// Create the enhanced component</span>
<span class="keyword">const</span> <span class="variable">WelcomeWithBorder</span> = withBorder(<span class="variable">Welcome</span>);

<span class="comment">// Usage</span>
<span class="keyword">function</span> <span class="function">App</span>() {
  <span class="keyword">return</span> &lt;<span class="tag">WelcomeWithBorder</span> <span class="attr-name">name</span>=<span class="attr-value">"Alice"</span> /&gt;;
}</pre></div>
                <div class="warning">
                    <h4>Hooks vs. HOCs</h4>
                    <p>In modern React, custom Hooks are often a simpler and more flexible way to share logic than HOCs.</p>
                </div>
            </section>

            <!-- Props In-Depth -->
            <section class="section" data-topic="Props In-Depth Children Style Default PropTypes">
                <h2>🎁 Props In-Depth</h2>
                <p>Props are the mechanism for passing data down the component tree. Understanding them thoroughly is key to building dynamic applications.</p>
                
                <h3>Advanced Prop Patterns</h3>
                <div class="grid">
                    <div class="card">
                        <h4>The `children` Prop</h4>
                        <p>Anything between the opening and closing tags of a component is passed as the `children` prop. This is perfect for creating generic wrapper components like cards or modals.</p>
                        <div class="code-block"><pre><span class="keyword">function</span> <span class="function">Modal</span>({ <span class="variable">title</span>, <span class="variable">children</span> }) {
  <span class="keyword">return</span> (
    &lt;<span class="tag">div</span> <span class="attr-name">className</span>=<span class="attr-value">"modal-backdrop"</span>&gt;
      &lt;<span class="tag">div</span> <span class="attr-name">className</span>=<span class="attr-value">"modal-content"</span>&gt;
        &lt;<span class="tag">h2</span>&gt;<span class="punctuation">{title}</span>&lt;/<span class="tag">h2</span>&gt;
        {children}
      &lt;/<span class="tag">div</span>&gt;
    &lt;/<span class="tag">div</span>&gt;
  );
}</pre></div>
                    </div>
                    <div class="card">
                        <h4>Passing Functions as Props</h4>
                        <p>You can pass functions from parent to child to allow the child to communicate back up to the parent (e.g., handling a click event).</p>
                        <div class="code-block"><pre><span class="keyword">function</span> <span class="function">Uploader</span>({ <span class="variable">onUpload</span> }) {
  <span class="keyword">return</span> &lt;<span class="tag">button</span> <span class="attr-name">onClick</span>={onUpload}&gt;<span class="punctuation">Upload File</span>&lt;/<span class="tag">button</span>&gt;;
}

<span class="keyword">function</span> <span class="function">App</span>() {
  <span class="keyword">const</span> <span class="function">handleUpload</span> = () => console.log(<span class="string">'Uploading...'</span>);
  <span class="keyword">return</span> &lt;<span class="tag">Uploader</span> <span class="attr-name">onUpload</span>={handleUpload} /&gt;;
}</pre></div>
                    </div>
                </div>

                <h3>Default Props and Prop Types</h3>
                <div class="grid">
                    <div class="card">
                        <h4>Default Props</h4>
                        <p>You can define default values for props if they are not provided by the parent component.</p>
                        <div class="code-block"><pre><span class="keyword">function</span> <span class="function">Avatar</span>({ <span class="variable">src</span>, <span class="variable">size</span> = <span class="number">100</span> }) {
  <span class="keyword">return</span> &lt;<span class="tag">img</span> <span class="attr-name">src</span>={src} <span class="attr-name">width</span>={size} <span class="attr-name">height</span>={size} /&gt;;
}

<span class="comment">// Or using defaultProps (older syntax)</span>
<span class="comment">// Avatar.defaultProps = {</span>
<span class="comment">//   size: 100</span>
<span class="comment">// };</span></pre></div>
                    </div>
                    <div class="card">
                        <h4>Prop Types</h4>
                        <p>For larger applications, it's useful to validate the props a component receives. This helps catch bugs early. Use the `prop-types` library.</p>
                        <div class="code-block"><pre><span class="comment">// npm install prop-types</span>
<span class="keyword">import</span> <span class="variable">PropTypes</span> <span class="keyword">from</span> <span class="string">'prop-types'</span>;

<span class="keyword">function</span> <span class="function">Greeting</span>({ <span class="variable">name</span> }) {
  <span class="keyword">return</span> &lt;<span class="tag">h1</span>&gt;<span class="punctuation">Hello, {name}</span>&lt;/<span class="tag">h1</span>&gt;;
}

Greeting.propTypes = {
  <span class="comment">// You can declare that a prop is a specific JS type.</span>
  <span class="variable">name</span>: PropTypes.string.isRequired,
  <span class="variable">age</span>: PropTypes.number,
  <span class="variable">onClick</span>: PropTypes.func
};</pre></div>
                    </div>
                </div>
                <div class="warning">
                    <h4>TypeScript is the Modern Solution</h4>
                    <p>While `prop-types` is still used, TypeScript provides much more robust, static type checking at build time and is the recommended way to handle prop types in modern React projects.</p>
                </div>
            </section>
            
            <!-- React State, Hooks, and Events -->
            <section class="section" id="react-state-hooks-and-events" data-topic="React State React Hooks DOM Events">
                <h2>🎣 React State, Hooks, and Events</h2>
                <p>State allows components to create and manage their own data. When state changes, the component re-renders. Hooks let you use state and other React features in functional components.</p>
                
                <h3>The `useState` Hook - Complete Guide</h3>
                <p>The `useState` hook is the most fundamental hook. It returns an array with two elements: the current state value and a function to update it.</p>
                
                <h4>Basic useState Examples</h4>
                <div class="grid">
                    <div class="card">
                        <h4>Counter with Multiple States</h4>
                        <p>Managing multiple state variables in a single component.</p>
                        <div class="code-block"><pre><span class="keyword">function</span> <span class="function">AdvancedCounter</span>() {
  <span class="keyword">const</span> [<span class="variable">count</span>, <span class="variable">setCount</span>] = useState(<span class="number">0</span>);
  <span class="keyword">const</span> [<span class="variable">step</span>, <span class="variable">setStep</span>] = useState(<span class="number">1</span>);
  <span class="keyword">const</span> [<span class="variable">history</span>, <span class="variable">setHistory</span>] = useState([]);

  <span class="keyword">const</span> <span class="function">increment</span> = () => {
    <span class="keyword">const</span> <span class="variable">newCount</span> = <span class="variable">count</span> + <span class="variable">step</span>;
    setCount(<span class="variable">newCount</span>);
    setHistory([...<span class="variable">history</span>, <span class="variable">newCount</span>]);
  };

  <span class="keyword">return</span> (
    &lt;<span class="tag">div</span>&gt;
      &lt;<span class="tag">h3</span>&gt;<span class="punctuation">Count: {count}</span>&lt;/<span class="tag">h3</span>&gt;
      &lt;<span class="tag">input</span> 
        <span class="attr-name">type</span>=<span class="attr-value">"number"</span> 
        <span class="attr-name">value</span>={step} 
        <span class="attr-name">onChange</span>={(e) => setStep(Number(e.target.value))}
      /&gt;
      &lt;<span class="tag">button</span> <span class="attr-name">onClick</span>={increment}&gt;<span class="punctuation">Increment by {step}</span>&lt;/<span class="tag">button</span>&gt;
      &lt;<span class="tag">p</span>&gt;<span class="punctuation">History: {history.join(', ')}</span>&lt;/<span class="tag">p</span>&gt;
    &lt;/<span class="tag">div</span>&gt;
  );
}</pre></div>
                    </div>
                    <div class="card">
                        <h4>Form State Management</h4>
                        <p>Managing complex form state with multiple inputs.</p>
                        <div class="code-block"><pre><span class="keyword">function</span> <span class="function">UserForm</span>() {
  <span class="keyword">const</span> [<span class="variable">formData</span>, <span class="variable">setFormData</span>] = useState({
    <span class="variable">firstName</span>: <span class="string">''</span>,
    <span class="variable">lastName</span>: <span class="string">''</span>,
    <span class="variable">email</span>: <span class="string">''</span>,
    <span class="variable">age</span>: <span class="string">''</span>
  });

  <span class="keyword">const</span> <span class="function">handleChange</span> = (e) => {
    <span class="keyword">const</span> { <span class="variable">name</span>, <span class="variable">value</span> } = e.target;
    setFormData(prev => ({
      ...prev,
      [name]: value
    }));
  };

  <span class="keyword">const</span> <span class="function">handleSubmit</span> = (e) => {
    e.preventDefault();
    console.log(<span class="string">'Form submitted:'</span>, <span class="variable">formData</span>);
  };

  <span class="keyword">return</span> (
    &lt;<span class="tag">form</span> <span class="attr-name">onSubmit</span>={handleSubmit}&gt;
      &lt;<span class="tag">input</span>
        <span class="attr-name">name</span>=<span class="attr-value">"firstName"</span>
        <span class="attr-name">value</span>={formData.firstName}
        <span class="attr-name">onChange</span>={handleChange}
        <span class="attr-name">placeholder</span>=<span class="attr-value">"First Name"</span>
      /&gt;
      &lt;<span class="tag">input</span>
        <span class="attr-name">name</span>=<span class="attr-value">"lastName"</span>
        <span class="attr-name">value</span>={formData.lastName}
        <span class="attr-name">onChange</span>={handleChange}
        <span class="attr-name">placeholder</span>=<span class="attr-value">"Last Name"</span>
      /&gt;
      &lt;<span class="tag">button</span> <span class="attr-name">type</span>=<span class="attr-value">"submit"</span>&gt;<span class="punctuation">Submit</span>&lt;/<span class="tag">button</span>&gt;
    &lt;/<span class="tag">form</span>&gt;
  );
}</pre></div>
                    </div>
                </div>

                <h4>Interactive useState Demo</h4>
                <div class="example">
                    <h4>Basic Counter Demo</h4>
                    <div id="useStateDemo"></div>
                </div>
                
                <div class="example">
                    <h4>Advanced Counter with History</h4>
                    <div id="advancedUseStateDemo"></div>
                </div>

                <h4>useState Best Practices & Tips</h4>
                <div class="grid">
                    <div class="card">
                        <h4>✅ Do's</h4>
                        <ul>
                            <li><strong>Use functional updates:</strong> `setCount(prev => prev + 1)` for state that depends on previous state</li>
                            <li><strong>Initialize with functions:</strong> `useState(() => expensiveCalculation())` for expensive initial values</li>
                            <li><strong>Group related state:</strong> Use objects for related state variables</li>
                            <li><strong>Reset state properly:</strong> Always provide a way to reset state to initial values</li>
                </ul>
                    </div>
                    <div class="card">
                        <h4>❌ Don'ts</h4>
                        <ul>
                            <li><strong>Don't mutate state directly:</strong> Never do `count++` or `user.name = 'John'`</li>
                            <li><strong>Don't call setState in loops:</strong> This can cause infinite re-renders</li>
                            <li><strong>Don't forget dependencies:</strong> Always include all dependencies in useEffect</li>
                            <li><strong>Don't overuse state:</strong> Not everything needs to be in state</li>
                        </ul>
                    </div>
                </div>

                <h3>The `useEffect` Hook - Complete Guide</h3>
                <p>The `useEffect` hook lets you perform side effects, such as fetching data, directly manipulating the DOM, or setting up timers.</p>
                
                <h4>useEffect Patterns & Examples</h4>
                <div class="grid">
                    <div class="card">
                        <h4>Data Fetching Pattern</h4>
                        <p>Fetching data when component mounts or when dependencies change.</p>
                        <div class="code-block"><pre><span class="keyword">function</span> <span class="function">UserProfile</span>({ <span class="variable">userId</span> }) {
  <span class="keyword">const</span> [<span class="variable">user</span>, <span class="variable">setUser</span>] = useState(<span class="keyword">null</span>);
  <span class="keyword">const</span> [<span class="variable">loading</span>, <span class="variable">setLoading</span>] = useState(<span class="keyword">true</span>);
  <span class="keyword">const</span> [<span class="variable">error</span>, <span class="variable">setError</span>] = useState(<span class="keyword">null</span>);

  useEffect(() => {
    <span class="keyword">const</span> <span class="function">fetchUser</span> = <span class="keyword">async</span> () => {
      <span class="keyword">try</span> {
        setLoading(<span class="keyword">true</span>);
        setError(<span class="keyword">null</span>);
        
        <span class="keyword">const</span> <span class="variable">response</span> = <span class="keyword">await</span> fetch(<span class="string">`/api/users/${userId}`</span>);
        <span class="keyword">if</span> (!response.ok) {
          <span class="keyword">throw new</span> Error(<span class="string">'Failed to fetch user'</span>);
        }
        
        <span class="keyword">const</span> <span class="variable">userData</span> = <span class="keyword">await</span> response.json();
        setUser(<span class="variable">userData</span>);
      } <span class="keyword">catch</span> (err) {
        setError(err.message);
      } <span class="keyword">finally</span> {
        setLoading(<span class="keyword">false</span>);
      }
    };

    fetchUser();
  }, [<span class="variable">userId</span>]); <span class="comment">// Re-fetch when userId changes</span>

  <span class="keyword">if</span> (loading) <span class="keyword">return</span> &lt;<span class="tag">div</span>&gt;<span class="punctuation">Loading...</span>&lt;/<span class="tag">div</span>&gt;;
  <span class="keyword">if</span> (error) <span class="keyword">return</span> &lt;<span class="tag">div</span>&gt;<span class="punctuation">Error: {error}</span>&lt;/<span class="tag">div</span>&gt;;
  <span class="keyword">if</span> (!user) <span class="keyword">return</span> &lt;<span class="tag">div</span>&gt;<span class="punctuation">No user found</span>&lt;/<span class="tag">div</span>&gt;;

  <span class="keyword">return</span> (
    &lt;<span class="tag">div</span>&gt;
      &lt;<span class="tag">h2</span>&gt;<span class="punctuation">{user.name}</span>&lt;/<span class="tag">h2</span>&gt;
      &lt;<span class="tag">p</span>&gt;<span class="punctuation">{user.email}</span>&lt;/<span class="tag">p</span>&gt;
    &lt;/<span class="tag">div</span>&gt;
  );
}</pre></div>
                    </div>
                    <div class="card">
                        <h4>Cleanup & Event Listeners</h4>
                        <p>Setting up and cleaning up event listeners and subscriptions.</p>
                        <div class="code-block"><pre><span class="keyword">function</span> <span class="function">WindowResizeTracker</span>() {
  <span class="keyword">const</span> [<span class="variable">windowSize</span>, <span class="variable">setWindowSize</span>] = useState({
    <span class="variable">width</span>: window.innerWidth,
    <span class="variable">height</span>: window.innerHeight
  });

  useEffect(() => {
    <span class="keyword">const</span> <span class="function">handleResize</span> = () => {
      setWindowSize({
        <span class="variable">width</span>: window.innerWidth,
        <span class="variable">height</span>: window.innerHeight
      });
    };

    <span class="comment">// Add event listener</span>
    window.addEventListener(<span class="string">'resize'</span>, <span class="variable">handleResize</span>);

    <span class="comment">// Cleanup function - runs when component unmounts or dependencies change</span>
    <span class="keyword">return</span> () => {
      window.removeEventListener(<span class="string">'resize'</span>, <span class="variable">handleResize</span>);
    };
  }, []); <span class="comment">// Empty dependency array - only run once</span>

  <span class="keyword">return</span> (
    &lt;<span class="tag">div</span>&gt;
      &lt;<span class="tag">p</span>&gt;<span class="punctuation">Window size: {windowSize.width} x {windowSize.height}</span>&lt;/<span class="tag">p</span>&gt;
    &lt;/<span class="tag">div</span>&gt;
  );
}</pre></div>
                    </div>
                </div>

                <h4>Interactive useEffect Demo</h4>
                <div class="example">
                    <h4>Window Resize Tracker & Timer</h4>
                    <div id="useEffectDemo"></div>
                </div>

                <h4>useEffect Dependency Array Guide</h4>
                <div class="grid">
                    <div class="card">
                        <h4>🔄 No Dependencies `[]`</h4>
                        <p>Runs <strong>only once</strong> after initial render. Perfect for:</p>
                        <ul>
                            <li>Setting up subscriptions</li>
                            <li>Initial data fetching</li>
                            <li>One-time DOM manipulations</li>
                            <li>Setting up event listeners</li>
                        </ul>
                    </div>
                    <div class="card">
                        <h4>📊 With Dependencies `[value]`</h4>
                        <p>Runs when <strong>specific values change</strong>. Use for:</p>
                        <ul>
                            <li>Re-fetching data when ID changes</li>
                            <li>Updating when props change</li>
                            <li>Re-calculating derived values</li>
                            <li>Syncing with external state</li>
                        </ul>
                    </div>
                    <div class="card">
                        <h4>⚡ No Array (Deprecated)</h4>
                        <p>Runs <strong>after every render</strong>. Avoid this pattern as it can cause:</p>
                        <ul>
                            <li>Infinite re-renders</li>
                            <li>Performance issues</li>
                            <li>Unnecessary API calls</li>
                            <li>Memory leaks</li>
                        </ul>
                    </div>
                </div>

                <h3>The `useReducer` Hook - For Complex State</h3>
                <p>An alternative to `useState`. It's usually preferable to `useState` when you have complex state logic that involves multiple sub-values or when the next state depends on the previous one.</p>
                <div class="code-block"><pre><span class="keyword">const</span> [<span class="variable">state</span>, <span class="variable">dispatch</span>] = useReducer(<span class="variable">reducer</span>, <span class="variable">initialState</span>);</pre></div>
                <ul>
                    <li><strong>reducer:</strong> A function `(state, action) => newState` that specifies how the state gets updated.</li>
                    <li><strong>initialState:</strong> The initial state value.</li>
                    <li><strong>state:</strong> The current state.</li>
                    <li><strong>dispatch:</strong> A function you call to trigger a state update by "dispatching" an action object.</li>
                </ul>
                <h4>Interactive `useReducer` Demo: To-Do List</h4>
                <div class="example">
                    <div id="useReducerDemo"></div>
                </div>

                <h3>The `useRef` Hook - Escaping the Render Cycle</h3>
                <p>The `useRef` Hook allows you to persist values between renders without causing a re-render. It has two main use cases:</p>
                <div class="grid">
                    <div class="card">
                        <h4>1. Accessing DOM Nodes</h4>
                        <p>Attach a ref to a JSX element to directly access its underlying DOM node for things like managing focus, text selection, or media playback.</p>
                    </div>
                    <div class="card">
                        <h4>2. Storing a Mutable Value</h4>
                        <p>You can store any mutable value in a ref's `.current` property. Updating it does <strong>not</strong> trigger a re-render. This is useful for storing interval IDs, previous state values, etc.</p>
                    </div>
                </div>
                <h4>Interactive `useRef` Demo: Focus Input & Track Renders</h4>
                <div class="example">
                    <div id="useRefDemo"></div>
                </div>

                <h3>The `useContext` Hook - Avoiding Prop Drilling</h3>
                <p>`useContext` lets you subscribe to React context without introducing nesting. It makes it possible to pass data through the component tree without having to pass props down manually at every level.</p>
                <div class="code-block"><pre><span class="comment">// 1. Create a Context</span>
<span class="keyword">const</span> <span class="variable">ThemeContext</span> = React.createContext(<span class="string">'light'</span>);

<span class="comment">// 2. Provide the Context value at a high level in the tree</span>
<span class="keyword">function</span> <span class="function">App</span>() {
  <span class="keyword">const</span> [<span class="variable">theme</span>, <span class="variable">setTheme</span>] = useState(<span class="string">'dark'</span>);
  <span class="keyword">return</span> (
    &lt;<span class="tag">ThemeContext.Provider</span> <span class="attr-name">value</span>={{ <span class="variable">theme</span>, <span class="variable">setTheme</span> }}&gt;
      &lt;<span class="tag">Toolbar</span> /&gt;
    &lt;/<span class="tag">ThemeContext.Provider</span>&gt;
  );
}

<span class="comment">// 3. Consume the Context in any child component</span>
<span class="keyword">function</span> <span class="function">ThemedButton</span>() {
  <span class="keyword">const</span> { <span class="variable">theme</span>, <span class="variable">setTheme</span> } = useContext(<span class="variable">ThemeContext</span>);
  <span class="keyword">return</span> (
    &lt;<span class="tag">button</span>
      <span class="attr-name">style</span>={{ <span class="variable">background</span>: theme === <span class="string">'dark'</span> ? <span class="string">'#333'</span> : <span class="string">'#FFF'</span> }}
      <span class="attr-name">onClick</span>={() => setTheme(theme === <span class="string">'dark'</span> ? <span class="string">'light'</span> : <span class="string">'dark'</span>)}
    &gt;
      <span class="punctuation">Switch Theme</span>
    &lt;/<span class="tag">button</span>&gt;
  );
}</pre></div>
                <h4>Interactive `useContext` Demo: Theme Switcher</h4>
                <div class="example">
                    <div id="useContextDemo"></div>
                </div>

                <h3>Memoization Hooks: `useCallback` & `useMemo`</h3>
                <p>These hooks are performance optimizations. You should only use them when you have a measurable performance problem.</p>
                <div class="grid">
                    <div class="card">
                        <h4>`useCallback` - Memoize Functions</h4>
                        <p>Returns a memoized version of a callback function that only changes if one of the dependencies has changed. This is useful when passing callbacks to optimized child components that rely on reference equality to prevent unnecessary renders.</p>
                        <div class="code-block"><pre><span class="keyword">const</span> <span class="variable">memoizedCallback</span> = useCallback(
  () => { <span class="function">doSomething</span>(<span class="variable">a</span>, <span class="variable">b</span>); },
  [<span class="variable">a</span>, <span class="variable">b</span>],
);</pre></div>
                    </div>
                    <div class="card">
                        <h4>`useMemo` - Memoize Values</h4>
                        <p>Returns a memoized value. It will only recompute the memoized value when one of the dependencies has changed. This is useful to avoid expensive calculations on every render.</p>
                        <div class="code-block"><pre><span class="keyword">const</span> <span class="variable">memoizedValue</span> = useMemo(
  () => <span class="function">computeExpensiveValue</span>(<span class="variable">a</span>, <span class="variable">b</span>),
  [<span class="variable">a</span>, <span class="variable">b</span>]
);</pre></div>
                    </div>
                </div>
                <h4>Interactive `useMemo` & `useCallback` Demo</h4>
                 <div class="example">
                    <div id="memoizationDemo"></div>
                </div>


                <h3>Handling DOM Events - Complete Guide</h3>
                <p>React has a synthetic event system that works cross-browser. Event handlers are passed as props, like `onClick`, `onChange`, `onSubmit`.</p>
                
                <h4>Event Handling Patterns</h4>
                <div class="grid">
                    <div class="card">
                        <h4>Form Handling with Validation</h4>
                        <p>Complete form with validation and error handling. This is a prime example of handling events like `onSubmit` and `onChange`.</p>
                        <div class="code-block"><pre><span class="keyword">function</span> <span class="function">ValidatedForm</span>() {
  <span class="keyword">const</span> [<span class="variable">formData</span>, <span class="variable">setFormData</span>] = useState({
    <span class="variable">email</span>: <span class="string">''</span>,
    <span class="variable">password</span>: <span class="string">''</span>,
    <span class="variable">confirmPassword</span>: <span class="string">''</span>
  });
  <span class="keyword">const</span> [<span class="variable">errors</span>, <span class="variable">setErrors</span>] = useState({});
  <span class="keyword">const</span> [<span class="variable">isSubmitting</span>, <span class="variable">setIsSubmitting</span>] = useState(<span class="keyword">false</span>);

  <span class="keyword">const</span> <span class="function">validateForm</span> = () => {
    <span class="keyword">const</span> <span class="variable">newErrors</span> = {};

    <span class="comment">// Email validation</span>
    <span class="keyword">if</span> (!formData.email) {
      <span class="variable">newErrors</span>.email = <span class="string">'Email is required'</span>;
    } <span class="keyword">else if</span> (!/\S+@\S+\.\S+/.test(formData.email)) {
      <span class="variable">newErrors</span>.email = <span class="string">'Email is invalid'</span>;
    }

    <span class="comment">// Password validation</span>
    <span class="keyword">if</span> (formData.password.length < <span class="number">6</span>) {
      <span class="variable">newErrors</span>.password = <span class="string">'Password must be at least 6 characters'</span>;
    }

    <span class="comment">// Confirm password validation</span>
    <span class="keyword">if</span> (formData.password !== formData.confirmPassword) {
      <span class="variable">newErrors</span>.confirmPassword = <span class="string">'Passwords do not match'</span>;
    }

    setErrors(<span class="variable">newErrors</span>);
    <span class="keyword">return</span> Object.keys(<span class="variable">newErrors</span>).length === <span class="number">0</span>;
  };

  <span class="keyword">const</span> <span class="function">handleSubmit</span> = <span class="keyword">async</span> (e) => {
    e.preventDefault();
    
    <span class="keyword">if</span> (!validateForm()) {
      <span class="keyword">return</span>;
    }

    setIsSubmitting(<span class="keyword">true</span>);
    
    <span class="comment">// Simulate API call</span>
    <span class="keyword">await</span> <span class="keyword">new</span> Promise(resolve => setTimeout(resolve, <span class="number">1000</span>));
    
    console.log(<span class="string">'Form submitted successfully:'</span>, <span class="variable">formData</span>);
    setIsSubmitting(<span class="keyword">false</span>);
  };

  <span class="keyword">const</span> <span class="function">handleChange</span> = (e) => {
    <span class="keyword">const</span> { <span class="variable">name</span>, <span class="variable">value</span> } = e.target;
    setFormData(prev => ({ ...prev, [name]: value }));
    
    <span class="comment">// Clear error when user starts typing</span>
    <span class="keyword">if</span> (errors[name]) {
      setErrors(prev => ({ ...prev, [name]: <span class="string">''</span> }));
    }
  };

  <span class="keyword">return</span> (
    &lt;<span class="tag">form</span> <span class="attr-name">onSubmit</span>={handleSubmit}&gt;
      &lt;<span class="tag">div</span>&gt;
        &lt;<span class="tag">input</span>
          <span class="attr-name">type</span>=<span class="attr-value">"email"</span>
          <span class="attr-name">name</span>=<span class="attr-value">"email"</span>
          <span class="attr-name">value</span>={formData.email}
          <span class="attr-name">onChange</span>={handleChange}
          <span class="attr-name">placeholder</span>=<span class="attr-value">"Email"</span>
        /&gt;
        {errors.email && &lt;<span class="tag">span</span> <span class="attr-name">style</span>={{color: <span class="string">'red'</span>}}&gt;{errors.email}&lt;/<span class="tag">span</span>&gt;}
      &lt;/<span class="tag">div</span>&gt;
      
      &lt;<span class="tag">button</span> <span class="attr-name">type</span>=<span class="attr-value">"submit"</span> <span class="attr-name">disabled</span>={isSubmitting}&gt;
        {isSubmitting ? <span class="string">'Submitting...'</span> : <span class="string">'Submit'</span>}
      &lt;/<span class="tag">button</span>&gt;
    &lt;/<span class="tag">form</span>&gt;
  );
}</pre></div>
                    </div>
                </div>

                <h4>Interactive Event Handling Demo</h4>
                <div class="example">
                    <h4>Form with Validation & Real-time Feedback</h4>
                    <div id="eventHandlingDemo"></div>
                </div>

                <h4>Event Handling Best Practices</h4>
                <div class="grid">
                    <div class="card">
                        <h4>✅ Event Best Practices</h4>
                        <ul>
                            <li><strong>Use descriptive names:</strong> `handleSubmit`, `handleInputChange`</li>
                            <li><strong>Prevent default behavior:</strong> `e.preventDefault()` for forms</li>
                            <li><strong>Debounce expensive operations:</strong> Use debouncing for search inputs</li>
                            <li><strong>Clean up subscriptions:</strong> Always clean up in useEffect return</li>
                            <li><strong>Use event delegation:</strong> Handle events at parent level when possible</li>
                        </ul>
                    </div>
                    <div class="card">
                        <h4>🚫 Common Mistakes</h4>
                        <ul>
                            <li><strong>Creating functions in render:</strong> This causes unnecessary re-renders</li>
                            <li><strong>Forgetting cleanup:</strong> Can cause memory leaks</li>
                            <li><strong>Inline event handlers:</strong> Hard to debug and test</li>
                            <li><strong>Not handling errors:</strong> Always wrap async operations in try-catch</li>
                        </ul>
                    </div>
                </div>
            </section>

            <!-- Building More Components -->
            <section class="section" data-topic="Building Common UI Components">
                <h2>🏗️ Building Common UI Components</h2>
                <p>Let's build some common, reusable components with props and state.</p>
                
                <div class="card">
                    <h4>Header Component</h4>
                    <p>A typical site header often contains a logo, navigation, and maybe a call-to-action button. This example combines several concepts.</p>
                    <div class="code-block"><pre><span class="keyword">import</span> <span class="variable">logo</span> <span class="keyword">from</span> <span class="string">'./logo.svg'</span>; <span class="comment">// Assuming you have a logo file</span>

<span class="keyword">function</span> <span class="function">Header</span>({ <span class="variable">navItems</span> }) {
  <span class="keyword">const</span> <span class="variable">headerStyle</span> = {
    <span class="variable">display</span>: <span class="string">'flex'</span>,
    <span class="variable">justifyContent</span>: <span class="string">'space-between'</span>,
    <span class="variable">alignItems</span>: <span class="string">'center'</span>,
    <span class="variable">padding</span>: <span class="string">'1rem 2rem'</span>,
    <span class="variable">backgroundColor</span>: <span class="string">'#20232a'</span>,
    <span class="variable">color</span>: <span class="string">'white'</span>
  };
  <span class="keyword">const</span> <span class="variable">navStyle</span> = { <span class="variable">display</span>: <span class="string">'flex'</span>, <span class="variable">gap</span>: <span class="string">'1rem'</span> };
  <span class="keyword">const</span> <span class="variable">logoStyle</span> = { <span class="variable">height</span>: <span class="string">'40px'</span> };

  <span class="keyword">return</span> (
    &lt;<span class="tag">header</span> <span class="attr-name">style</span>={headerStyle}&gt;
      &lt;<span class="tag">img</span> <span class="attr-name">src</span>={logo} <span class="attr-name">style</span>={logoStyle} <span class="attr-name">alt</span>=<span class="attr-value">"Logo"</span> /&gt;
      &lt;<span class="tag">nav</span> <span class="attr-name">style</span>={navStyle}&gt;
        {navItems.map((<span class="variable">item</span>) => (
          &lt;<span class="tag">a</span> <span class="attr-name">key</span>={item.label} <span class="attr-name">href</span>={item.href} <span class="attr-name">style</span>={{ <span class="variable">color</span>: <span class="string">'#61DAFB'</span>, <span class="variable">textDecoration</span>: <span class="string">'none'</span> }}&gt;
            {item.label}
          &lt;/<span class="tag">a</span>&gt;
        ))}
      &lt;/<span class="tag">nav</span>&gt;
      &lt;<span class="tag">button</span>&gt;<span class="punctuation">Sign Up</span>&lt;/<span class="tag">button</span>&gt;
    &lt;/<span class="tag">header</span>&gt;
  );
}
</pre></div>
                </div>

                <div class="card">
                    <h4>Navbar Component</h4>
                    <p>A responsive navigation bar with links.</p>
                    <div class="code-block"><pre><span class="keyword">function</span> <span class="function">Navbar</span>({ <span class="variable">items</span> }) {
  <span class="keyword">const</span> <span class="variable">navStyle</span> = {
    <span class="variable">display</span>: <span class="string">'flex'</span>, <span class="variable">justifyContent</span>: <span class="string">'space-around'</span>,
    <span class="variable">backgroundColor</span>: <span class="string">'#333'</span>, <span class="variable">padding</span>: <span class="string">'1rem'</span>
  };
  <span class="keyword">const</span> <span class="variable">linkStyle</span> = { <span class="variable">color</span>: <span class="string">'white'</span>, <span class="variable">textDecoration</span>: <span class="string">'none'</span> };

  <span class="keyword">return</span> (
    &lt;<span class="tag">nav</span> <span class="attr-name">style</span>={navStyle}&gt;
      {items.map((<span class="variable">item</span>) => (
        &lt;<span class="tag">a</span> <span class="attr-name">key</span>={item.label} <span class="attr-name">href</span>={item.href} <span class="attr-name">style</span>={linkStyle}&gt;
          {item.label}
        &lt;/<span class="tag">a</span>&gt;
      ))}
    &lt;/<span class="tag">nav</span>&gt;
  );
}
<span class="comment">// Usage: &lt;Navbar items={[{label: 'Home', href: '/'}, {label: 'About', href: '/about'}]} /&gt;</span></pre></div>
                </div>
                
                <div class="card">
                    <h4>Footer Component</h4>
                    <p>A simple footer with the current year.</p>
                    <div class="code-block"><pre><span class="keyword">function</span> <span class="function">Footer</span>() {
  <span class="keyword">const</span> <span class="variable">currentYear</span> = <span class="keyword">new</span> Date().getFullYear();
  <span class="keyword">const</span> <span class="variable">footerStyle</span> = {
    <span class="variable">textAlign</span>: <span class="string">'center'</span>, <span class="variable">padding</span>: <span class="string">'1rem'</span>,
    <span class="variable">backgroundColor</span>: <span class="string">'#f1f1f1'</span>, <span class="variable">marginTop</span>: <span class="string">'2rem'</span>
  };
  <span class="keyword">return</span> (
    &lt;<span class="tag">footer</span> <span class="attr-name">style</span>={footerStyle}&gt;
      &lt;<span class="tag">p</span>&gt;<span class="punctuation">&copy; {currentYear} My Awesome Company</span>&lt;/<span class="tag">p</span>&gt;
    &lt;/<span class="tag">footer</span>&gt;
  );
}
<span class="comment">// Usage: &lt;Footer /&gt;</span></pre></div>
                </div>

                <div class="card">
                    <h4>Accordion Component (Interactive)</h4>
                    <p>An interactive accordion to show and hide content.</p>
                    <div class="example">
                        <h4>Interactive Accordion Demo</h4>
                        <div id="accordionDemo"></div>
                    </div>
                </div>
            </section>

            <!-- Integrations -->
            <section class="section" data-topic="Integrations Tailwind Bootstrap GSAP Animations">
                <h2>🔌 Integrations & Animations</h2>
                <p>React shines when combined with other libraries for styling and animation.</p>
                
                <div class="grid">
                    <div class="card">
                        <h4>Tailwind CSS</h4>
                        <p>A utility-first CSS framework for rapidly building custom UIs directly in your markup. Instead of writing custom CSS, you apply pre-existing classes.</p>
                        <div class="code-block"><pre><span class="comment">// 1. Follow the official Tailwind CSS installation guide for your framework.</span>
<span class="comment">// 2. Build components by applying utility classes.</span>

<span class="keyword">function</span> <span class="function">ProductCard</span>({ <span class="variable">title</span>, <span class="variable">description</span>, <span class="variable">imageUrl</span> }) {
  <span class="keyword">return</span> (
    &lt;<span class="tag">div</span> <span class="attr-name">className</span>=<span class="attr-value">"max-w-sm rounded overflow-hidden shadow-lg bg-white m-4"</span>&gt;
      &lt;<span class="tag">img</span> <span class="attr-name">className</span>=<span class="attr-value">"w-full"</span> <span class="attr-name">src</span>={imageUrl} <span class="attr-name">alt</span>=<span class="attr-value">"Product Image"</span> /&gt;
      &lt;<span class="tag">div</span> <span class="attr-name">className</span>=<span class="attr-value">"px-6 py-4"</span>&gt;
        &lt;<span class="tag">div</span> <span class="attr-name">className</span>=<span class="attr-value">"font-bold text-xl mb-2"</span>&gt;<span class="punctuation">{title}</span>&lt;/<span class="tag">div</span>&gt;
        &lt;<span class="tag">p</span> <span class="attr-name">className</span>=<span class="attr-value">"text-gray-700 text-base"</span>&gt;
          <span class="punctuation">{description}</span>
        &lt;/<span class="tag">p</span>&gt;
      &lt;/<span class="tag">div</span>&gt;
      &lt;<span class="tag">div</span> <span class="attr-name">className</span>=<span class="attr-value">"px-6 pt-4 pb-2"</span>&gt;
        &lt;<span class="tag">button</span> <span class="attr-name">className</span>=<span class="attr-value">"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded"</span>&gt;
          <span class="punctuation">Buy Now</span>
        &lt;/<span class="tag">button</span>&gt;
      &lt;/<span class="tag">div</span>&gt;
    &lt;/<span class="tag">div</span>&gt;
  );
}
</pre></div>
                    </div>
                    <div class="card">
                        <h4>React Bootstrap</h4>
                        <p>The most popular front-end framework rebuilt for React. Get pre-styled components that are easy to import and use.</p>
                        <div class="code-block"><pre><span class="comment">// 1. Installation</span>
<span class="variable">npm install react-bootstrap bootstrap</span>

<span class="comment">// 2. Import CSS in your app's entry point (e.g., index.js or App.js)</span>
<span class="keyword">import</span> <span class="string">'bootstrap/dist/css/bootstrap.min.css'</span>;

<span class="comment">// 3. Import and use components</span>
<span class="keyword">import</span> { Modal, Button } <span class="keyword">from</span> <span class="string">'react-bootstrap'</span>;
<span class="keyword">import</span> { useState } <span class="keyword">from</span> <span class="string">'react'</span>;

<span class="keyword">function</span> <span class="function">ExampleModal</span>() {
  <span class="keyword">const</span> [<span class="variable">show</span>, <span class="variable">setShow</span>] = useState(<span class="keyword">false</span>);

  <span class="keyword">const</span> <span class="function">handleClose</span> = () => setShow(<span class="keyword">false</span>);
  <span class="keyword">const</span> <span class="function">handleShow</span> = () => setShow(<span class="keyword">true</span>);

  <span class="keyword">return</span> (
    &lt;&gt;
      &lt;<span class="tag">Button</span> <span class="attr-name">variant</span>=<span class="attr-value">"primary"</span> <span class="attr-name">onClick</span>={handleShow}&gt;
        <span class="punctuation">Launch demo modal</span>
      &lt;/<span class="tag">Button</span>&gt;

      &lt;<span class="tag">Modal</span> <span class="attr-name">show</span>={show} <span class="attr-name">onHide</span>={handleClose}&gt;
        &lt;<span class="tag">Modal.Header</span> <span class="attr-name">closeButton</span>&gt;
          &lt;<span class="tag">Modal.Title</span>&gt;<span class="punctuation">Modal heading</span>&lt;/<span class="tag">Modal.Title</span>&gt;
        &lt;/<span class="tag">Modal.Header</span>&gt;
        &lt;<span class="tag">Modal.Body</span>&gt;<span class="punctuation">Woohoo, you're reading this text in a modal!</span>&lt;/<span class="tag">Modal.Body</span>&gt;
        &lt;<span class="tag">Modal.Footer</span>&gt;
          &lt;<span class="tag">Button</span> <span class="attr-name">variant</span>=<span class="attr-value">"secondary"</span> <span class="attr-name">onClick</span>={handleClose}&gt;
            <span class="punctuation">Close</span>
          &lt;/<span class="tag">Button</span>&gt;
        &lt;/<span class="tag">Modal.Footer</span>&gt;
      &lt;/<span class="tag">Modal</span>&gt;
    &lt;/&gt;
  );
}
</pre></div>
                    </div>
                    <div class="card">
                        <h4>GSAP (GreenSock)</h4>
                        <p>A professional-grade animation library for JavaScript. It's powerful, high-performance, and can animate anything JavaScript can touch.</p>
                        <div class="code-block"><pre><span class="comment">// npm install gsap</span>
<span class="keyword">import</span> { useLayoutEffect, useRef } <span class="keyword">from</span> <span class="string">'react'</span>;
<span class="keyword">import</span> { gsap } <span class="keyword">from</span> <span class="string">'gsap'</span>;

<span class="keyword">function</span> <span class="function">AnimatedBox</span>() {
  <span class="keyword">const</span> <span class="variable">boxRef</span> = useRef();

  <span class="comment">// useLayoutEffect runs synchronously after all DOM mutations.</span>
  <span class="comment">// Good for animations to avoid flicker.</span>
  useLayoutEffect(() => {
    <span class="keyword">let</span> <span class="variable">ctx</span> = gsap.context(() => {
      <span class="comment">// Animate the box on component mount</span>
      gsap.to(boxRef.current, { <span class="variable">rotation</span>: <span class="string">"+=360"</span>, <span class="variable">duration</span>: <span class="number">1</span> });
    }, boxRef); <span class="comment">// scope the context to the box</span>

    <span class="keyword">return</span> () => <span class="variable">ctx</span>.revert(); <span class="comment">// cleanup</span>
  }, []);

  <span class="keyword">return</span> &lt;<span class="tag">div</span> <span class="attr-name">ref</span>={boxRef} <span class="attr-name">className</span>=<span class="attr-value">"box-style"</span>&gt;<span class="punctuation">Spin me!</span>&lt;/<span class="tag">div</span>&gt;;
}</pre></div>
                    </div>
                     <div class="card">
                        <h4>CSS Transitions & Animations</h4>
                        <p>Don't forget the power of CSS! For many UI animations, simple CSS transitions or keyframes are efficient and easy to implement.</p>
                        <div class="code-block"><pre><span class="comment">// 1. Add a CSS class with a transition</span>
<span class="comment">.fade-in {</span>
<span class="comment">  opacity: 0;</span>
<span class="comment">  transform: translateY(20px);</span>
<span class="comment">  transition: opacity 0.5s ease-in-out, transform 0.5s ease-in-out;</span>
<span class="comment">}</span>
<span class="comment">.fade-in.visible {</span>
<span class="comment">  opacity: 1;</span>
<span class="comment">  transform: translateY(0);</span>
<span class="comment">}</span>

<span class="comment">// 2. Toggle the class in your component</span>
<span class="keyword">import</span> { useState, useEffect } <span class="keyword">from</span> <span class="string">'react'</span>;

<span class="keyword">function</span> <span class="function">FadingComponent</span>() {
  <span class="keyword">const</span> [<span class="variable">isVisible</span>, <span class="variable">setIsVisible</span>] = useState(<span class="keyword">false</span>);

  useEffect(() => {
    <span class="comment">// Mount animation</span>
    setIsVisible(<span class="keyword">true</span>);
  }, []);

  <span class="keyword">return</span> (
    &lt;<span class="tag">div</span> <span class="attr-name">className</span>={`<span class="variable">fade-in</span> ${isVisible ? <span class="string">'visible'</span> : <span class="string">''</span>}`}&gt;
      <span class="punctuation">I will fade in on mount!</span>
    &lt;/<span class="tag">div</span>&gt;
  );
}</pre></div>
                    </div>
                </div>
            </section>
            
            <!-- API, Redux, Router, Debugging -->
            <section class="section" data-topic="API Redux Router Debugging">
                <h2>🛠️ API, State Management, Routing & Debugging</h2>
                <div class="grid">
                    <div class="card">
                        <h4>Fetching API Data</h4>
                        <p>Use `useEffect` and `useState` to fetch data. While the native `fetch` API works well, `axios` is a popular alternative that simplifies the process.</p>
                        <h5>Common Libraries:</h5>
                        <ul>
                            <li><strong>fetch:</strong> Built into modern browsers. Requires manual handling for JSON parsing and errors.</li>
                            <li><strong>axios:</strong> A third-party library (`npm install axios`). Automatically parses JSON, has better error handling, and a simpler API.</li>
                        </ul>
                        <div class="code-block"><pre><span class="comment">// Using the native fetch API</span>
<span class="keyword">function</span> <span class="function">FetchComponent</span>({ <span class="variable">url</span> }) {
  <span class="keyword">const</span> [<span class="variable">data</span>, <span class="variable">setData</span>] = useState(<span class="keyword">null</span>);
  useEffect(() => {
    fetch(url)
      .then(response => {
        <span class="keyword">if</span> (!response.ok) {
          <span class="keyword">throw new</span> Error(<span class="string">'Network response was not ok'</span>);
        }
        <span class="keyword">return</span> response.json();
      })
      .then(jsonData => setData(jsonData))
      .catch(error => console.error(<span class="string">'Fetch error:'</span>, error));
  }, [url]);
  <span class="comment">// ... render data</span>
}

<span class="comment">// Using axios for a cleaner approach</span>
<span class="keyword">import</span> axios <span class="keyword">from</span> <span class="string">'axios'</span>;
<span class="keyword">function</span> <span class="function">AxiosComponent</span>({ <span class="variable">url</span> }) {
  <span class="keyword">const</span> [<span class="variable">data</span>, <span class="variable">setData</span>] = useState(<span class="keyword">null</span>);
  useEffect(() => {
    axios.get(url)
      .then(response => setData(response.data))
      .catch(error => console.error(<span class="string">'Axios error:'</span>, error));
  }, [url]);
  <span class="comment">// ... render data</span>
}
</pre></div>
                    </div>
                    <div class="card">
                        <h4>React Router</h4>
                        <p>The standard library for client-side routing. It enables navigation among views of various components in a React Application, allows changing the browser URL, and keeps the UI in sync with the URL.</p>
                        <h5>Core Components:</h5>
                        <ul>
                            <li><code>BrowserRouter</code>: Wraps your app to enable routing.</li>
                            <li><code>Routes</code>: A container for a collection of <code>&lt;Route&gt;</code>s.</li>
                            <li><code>Route</code>: Renders some UI when its path matches the current URL.</li>
                            <li><code>Link</code>: A component to create links that navigate between routes without a page refresh.</li>
                        </ul>
                        <h5>Common Hooks:</h5>
                        <ul>
                            <li><code>useNavigate</code>: For programmatic navigation (e.g., after a form submission).</li>
                            <li><code>useParams</code>: To access URL parameters from the route path (e.g., `/users/:userId`).</li>
                        </ul>
                        <div class="code-block"><pre><span class="comment">// npm install react-router-dom</span>
<span class="keyword">import</span> {
  BrowserRouter, Routes, Route, Link, useParams, useNavigate
} <span class="keyword">from</span> <span class="string">'react-router-dom'</span>;

<span class="comment">// Define some components to render for our routes</span>
<span class="keyword">const</span> <span class="function">Home</span> = () => &lt;<span class="tag">h2</span>&gt;<span class="punctuation">Home</span>&lt;/<span class="tag">h2</span>&gt;;
<span class="keyword">const</span> <span class="function">Profile</span> = () => {
  <span class="keyword">const</span> { <span class="variable">userId</span> } = useParams();
  <span class="keyword">return</span> &lt;<span class="tag">h2</span>&gt;<span class="punctuation">Profile for User ID: {userId}</span>&lt;/<span class="tag">h2</span>&gt;;
};
<span class="keyword">const</span> <span class="function">Dashboard</span> = () => {
  <span class="keyword">const</span> <span class="variable">navigate</span> = useNavigate();
  <span class="keyword">const</span> <span class="function">goToProfile</span> = () => navigate(<span class="string">'/user/123'</span>);
  <span class="keyword">return</span> (
    &lt;&gt;
      &lt;<span class="tag">h2</span>&gt;<span class="punctuation">Dashboard</span>&lt;/<span class="tag">h2</span>&gt;
      &lt;<span class="tag">button</span> <span class="attr-name">onClick</span>={goToProfile}&gt;<span class="punctuation">Go to Profile 123</span>&lt;/<span class="tag">button</span>&gt;
    &lt;/&gt;
  );
};

<span class="keyword">function</span> <span class="function">App</span>() {
  <span class="keyword">return</span> (
    &lt;<span class="tag">BrowserRouter</span>&gt;
      &lt;<span class="tag">nav</span> <span class="attr-name">style</span>={{ <span class="variable">display</span>:<span class="string">'flex'</span>, <span class="variable">gap</span>:<span class="string">'1rem'</span> }}&gt;
        &lt;<span class="tag">Link</span> <span class="attr-name">to</span>=<span class="attr-value">"/"</span>&gt;<span class="punctuation">Home</span>&lt;/<span class="tag">Link</span>&gt;
        &lt;<span class="tag">Link</span> <span class="attr-name">to</span>=<span class="attr-value">"/dashboard"</span>&gt;<span class="punctuation">Dashboard</span>&lt;/<span class="tag">Link</span>&gt;
        &lt;<span class="tag">Link</span> <span class="attr-name">to</span>=<span class="attr-value">"/user/abc"</span>&gt;<span class="punctuation">Profile (abc)</span>&lt;/<span class="tag">Link</span>&gt;
      &lt;/<span class="tag">nav</span>&gt;

      &lt;<span class="tag">Routes</span>&gt;
        &lt;<span class="tag">Route</span> <span class="attr-name">path</span>=<span class="attr-value">"/"</span> <span class="attr-name">element</span>={&lt;<span class="tag">Home</span> /&gt;} /&gt;
        &lt;<span class="tag">Route</span> <span class="attr-name">path</span>=<span class="attr-value">"/dashboard"</span> <span class="attr-name">element</span>={&lt;<span class="tag">Dashboard</span> /&gt;} /&gt;
        &lt;<span class="tag">Route</span> <span class="attr-name">path</span>=<span class="attr-value">"/user/:userId"</span> <span class="attr-name">element</span>={&lt;<span class="tag">Profile</span> /&gt;} /&gt;
      &lt;/<span class="tag">Routes</span>&gt;
    &lt;/<span class="tag">BrowserRouter</span>&gt;
  );
}
</pre></div>
                    </div>
                    <div class="card">
                        <h4>Redux Toolkit</h4>
                        <p>The official, recommended way to write Redux logic for global state management. It simplifies store setup, slice creation, and reduces boilerplate.</p>
                        <h5>Core Concepts:</h5>
                        <ul>
                            <li><code>configureStore</code>: Creates a Redux store with sensible defaults.</li>
                            <li><code>createSlice</code>: A function that accepts an initial state, an object of reducer functions, and a "slice name", and automatically generates action creators and action types.</li>
                            <li><code>Provider</code>: The component from `react-redux` to make the store available to your app.</li>
                            <li><code>useSelector</code>: A hook to extract data from the Redux store state.</li>
                            <li><code>useDispatch</code>: A hook to get the `dispatch` function to send actions to the store.</li>
                        </ul>
                        <div class="code-block"><pre><span class="comment">// 1. Install libraries</span>
<span class="variable">npm install @reduxjs/toolkit react-redux</span>

<span class="comment">// 2. Create a Redux store slice (e.g., features/counter/counterSlice.js)</span>
<span class="keyword">import</span> { createSlice } <span class="keyword">from</span> <span class="string">'@reduxjs/toolkit'</span>;

<span class="keyword">export const</span> counterSlice = createSlice({
  <span class="variable">name</span>: <span class="string">'counter'</span>,
  <span class="variable">initialState</span>: { <span class="variable">value</span>: <span class="number">0</span> },
  <span class="variable">reducers</span>: {
    <span class="function">increment</span>: <span class="variable">state</span> => { <span class="variable">state</span>.value += <span class="number">1</span>; },
    <span class="function">decrement</span>: <span class="variable">state</span> => { <span class="variable">state</span>.value -= <span class="number">1</span>; },
    <span class="function">incrementByAmount</span>: (<span class="variable">state</span>, <span class="variable">action</span>) => {
      <span class="variable">state</span>.value += action.payload;
    },
  },
});
<span class="keyword">export const</span> { increment, decrement, incrementByAmount } = counterSlice.actions;
<span class="keyword">export default</span> counterSlice.reducer;

<span class="comment">// 3. Configure the store (e.g., app/store.js)</span>
<span class="keyword">import</span> { configureStore } <span class="keyword">from</span> <span class="string">'@reduxjs/toolkit'</span>;
<span class="keyword">import</span> counterReducer <span class="keyword">from</span> <span class="string">'../features/counter/counterSlice'</span>;

<span class="keyword">export const</span> store = configureStore({
  <span class="variable">reducer</span>: {
    <span class="variable">counter</span>: counterReducer,
  },
});

<span class="comment">// 4. Provide the store to your app (e.g., main.jsx)</span>
<span class="keyword">import</span> { Provider } <span class="keyword">from</span> <span class="string">'react-redux'</span>;
<span class="keyword">import</span> { store } <span class="keyword">from</span> <span class="string">'./app/store'</span>;
ReactDOM.createRoot(document.getElementById(<span class="string">'root'</span>)).render(
  &lt;<span class="tag">Provider</span> <span class="attr-name">store</span>={store}&gt;
    &lt;<span class="tag">App</span> /&gt;
  &lt;/<span class="tag">Provider</span>&gt;
);

<span class="comment">// 5. Use the state and actions in a component</span>
<span class="keyword">import</span> { useSelector, useDispatch } <span class="keyword">from</span> <span class="string">'react-redux'</span>;
<span class="keyword">import</span> { increment, decrement } <span class="keyword">from</span> <span class="string">'./features/counter/counterSlice'</span>;

<span class="keyword">function</span> <span class="function">Counter</span>() {
  <span class="keyword">const</span> <span class="variable">count</span> = useSelector((<span class="variable">state</span>) => <span class="variable">state</span>.counter.value);
  <span class="keyword">const</span> <span class="variable">dispatch</span> = useDispatch();

  <span class="keyword">return</span> (
    &lt;&gt;
      &lt;<span class="tag">button</span> <span class="attr-name">onClick</span>={() => dispatch(increment())}&gt;<span class="punctuation">+</span>&lt;/<span class="tag">button</span>&gt;
      &lt;<span class="tag">span</span>&gt;<span class="punctuation">{count}</span>&lt;/<span class="tag">span</span>&gt;
      &lt;<span class="tag">button</span> <span class="attr-name">onClick</span>={() => dispatch(decrement())}&gt;<span class="punctuation">-</span>&lt;/<span class="tag">button</span>&gt;
    &lt;/&gt;
  );
}
</pre></div>
                    </div>
                    <div class="card">
                        <h4>React Debugging</h4>
                        <p>Use the React Developer Tools browser extension to inspect component hierarchies, props, and state.</p>
                        <div class="code-block"><pre><span class="comment">// In your code, use console.log to inspect values</span>
<span class="keyword">function</span> <span class="function">MyComponent</span>(<span class="variable">props</span>) {
  console.log(<span class="string">'Props received:'</span>, <span class="variable">props</span>);
  <span class="keyword">return</span> &lt;<span class="tag">div</span>&gt;<span class="punctuation">...</span>&lt;/<span class="tag">div</span>&gt;;
}

<span class="comment">// Use the `debugger` keyword to pause execution</span>
<span class="keyword">function</span> <span class="function">handleClick</span>() {
  <span class="keyword">debugger</span>; <span class="comment">// Execution will pause here if dev tools are open</span>
}</pre></div>
                    </div>
                </div>
            </section>
            
            <!-- TypeScript and Next.js -->
            <section class="section" data-topic="TypeScript 5 Fundamentals Building React Apps With TypeScript React With Next.Js">
                <h2>🚀 Advanced: TypeScript & Next.js</h2>

                <h3>Building React Apps with TypeScript</h3>
                <p>TypeScript adds static typing to JavaScript. This means you can declare the "shape" of your data, and TypeScript will check your code for mistakes before you even run it. It's invaluable for large projects.</p>

                <div class="grid">
                    <div class="card">
                        <h4>Typing Component Props</h4>
                        <p>Define the types for your component's props using an `interface` or `type`. For children, use `React.ReactNode`.</p>
                        <div class="code-block"><pre><span class="keyword">import</span> type { ReactNode } <span class="keyword">from</span> <span class="string">'react'</span>;

<span class="keyword">type</span> <span class="variable">CardProps</span> = {
  <span class="variable">title</span>: <span class="keyword">string</span>;
  <span class="variable">children</span>: <span class="variable">ReactNode</span>;
  <span class="variable">isFeatured</span>?: <span class="keyword">boolean</span>; <span class="comment">// Optional prop</span>
};

<span class="keyword">export default function</span> <span class="function">Card</span>({ <span class="variable">title</span>, <span class="variable">children</span>, <span class="variable">isFeatured</span> }: <span class="variable">CardProps</span>) {
  <span class="keyword">const</span> <span class="variable">cardClasses</span> = isFeatured ? <span class="string">'featured-card'</span> : <span class="string">'card'</span>;
  <span class="keyword">return</span> (
    &lt;<span class="tag">div</span> <span class="attr-name">className</span>={cardClasses}&gt;
      &lt;<span class="tag">h3</span>&gt;<span class="punctuation">{title}</span>&lt;/<span class="tag">h3</span>&gt;
      <span class="punctuation">{children}</span>
    &lt;/<span class="tag">div</span>&gt;
  );
}</pre></div>
                    </div>

                    <div class="card">
                        <h4>Typing Hooks</h4>
                        <p>Provide types for hooks like `useState` and `useRef` to ensure type safety for your state and refs.</p>
                        <div class="code-block"><pre><span class="keyword">import</span> { useState, useRef } <span class="keyword">from</span> <span class="string">'react'</span>;

<span class="keyword">type</span> <span class="variable">User</span> = { <span class="variable">id</span>: <span class="keyword">number</span>; <span class="variable">name</span>: <span class="keyword">string</span>; };

<span class="keyword">function</span> <span class="function">UserComponent</span>() {
  <span class="comment">// useState can be initialized with a value or null</span>
  <span class="keyword">const</span> [<span class="variable">user</span>, <span class="variable">setUser</span>] = useState&lt;<span class="variable">User</span> | <span class="keyword">null</span>&gt;(<span class="keyword">null</span>);

  <span class="comment">// useRef needs a generic for the type of element it will hold</span>
  <span class="keyword">const</span> <span class="variable">inputRef</span> = useRef&lt;<span class="variable">HTMLInputElement</span>&gt;(<span class="keyword">null</span>);

  <span class="keyword">const</span> <span class="function">login</span> = () => {
    setUser({ <span class="variable">id</span>: <span class="number">1</span>, <span class="variable">name</span>: <span class="string">'Alice'</span> });
  };

  <span class="keyword">return</span> <span class="comment">/* ... */</span>;
}</pre></div>
                    </div>
                    <div class="card">
                        <h4>Typing Events</h4>
                        <p>Use the specific event types provided by React, like `React.ChangeEvent` for inputs or `React.MouseEvent` for clicks.</p>
                        <div class="code-block"><pre><span class="keyword">function</span> <span class="function">EventComponent</span>() {
  <span class="keyword">const</span> <span class="function">handleInputChange</span> = (<span class="variable">event</span>: <span class="variable">React.ChangeEvent</span>&lt;<span class="variable">HTMLInputElement</span>&gt;) => {
    console.log(event.target.value);
  };

  <span class="keyword">const</span> <span class="function">handleButtonClick</span> = (<span class="variable">event</span>: <span class="variable">React.MouseEvent</span>&lt;<span class="variable">HTMLButtonElement</span>&gt;) => {
    console.log(<span class="string">'Button clicked!'</span>);
  };

  <span class="keyword">return</span> (
    &lt;&gt;
      &lt;<span class="tag">input</span> <span class="attr-name">onChange</span>={handleInputChange} /&gt;
      &lt;<span class="tag">button</span> <span class="attr-name">onClick</span>={handleButtonClick}&gt;<span class="punctuation">Click</span>&lt;/<span class="tag">button</span>&gt;
    &lt;/&gt;
  );
}</pre></div>
                    </div>
                </div>

                <h3>React with Next.js</h3>
                <p>Next.js is a powerful React framework for building full-stack web applications. It extends React with features like routing, server-side rendering, and API endpoints.</p>
                <div class="grid">
                    <div class="card">
                        <h4>App Router vs. Pages Router</h4>
                        <p>Next.js has evolved from the "Pages Router" (files in `pages/` become routes) to the new "App Router" (special files like `page.js`, `layout.js`, and `loading.js` in the `app/` directory define routes and UI).</p>
                    </div>
                    <div class="card">
                        <h4>Server Components (App Router)</h4>
                        <p>By default, components in the App Router are <strong>Server Components</strong>. They run on the server, so they can perform tasks like fetching data directly from a database. They cannot use hooks like `useState`. To use hooks, you must add the `"use client"` directive at the top of the file.</p>
                    </div>
                    <div class="card">
                        <h4>API Routes</h4>
                        <p>Create serverless API endpoints by adding a `route.js` file (App Router) or a file in `pages/api` (Pages Router).</p>
                        <div class="code-block"><pre><span class="comment">// In app/api/hello/route.js (App Router)</span>
<span class="keyword">import</span> { NextResponse } <span class="keyword">from</span> <span class="string">'next/server'</span>;

<span class="keyword">export async function</span> <span class="function">GET</span>(<span class="variable">request</span>: <span class="variable">Request</span>) {
  <span class="keyword">return</span> NextResponse.json({ <span class="variable">message</span>: <span class="string">'Hello, World!'</span> });
}

<span class="comment">// This creates an endpoint at /api/hello</span>
</pre></div>
                    </div>
                </div>
            </section>

        </main>

        <footer class="footer">
            <p>© 2025 XenoDesigns. All Rights Reserved.</p>
        </footer>
    </div>
    
    <button id="backToTopBtn" title="Go to top">↑</button>

    <div class="theme-switch-wrapper">
        <label class="theme-switch" for="darkModeToggle">
            <input type="checkbox" id="darkModeToggle" />
            <span class="slider"></span>
        </label>
    </div>

    <div id="searchNav">
        <button id="searchNavUp" title="Previous match">↑</button>
        <span id="searchNavCount"></span>
        <button id="searchNavDown" title="Next match">↓</button>
    </div>
    
    <!-- React and ReactDOM for interactive examples -->
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <script type="text/babel">
        console.log('React script starting...');
        console.log('React version:', React.version);
        console.log('ReactDOM version:', ReactDOM.version);
        
        // --- Interactive useState Demo ---
        const UseStateDemo = () => {
            const [count, setCount] = React.useState(0);
            const [text, setText] = React.useState('');

            return (
                <div>
                    <p>You clicked the button {count} times.</p>
                    <button className="interactive-btn" onClick={() => setCount(count + 1)}>
                        Increment
                    </button>
                     <button className="interactive-btn" onClick={() => setCount(count - 1)}>
                        Decrement
                    </button>
                    <hr style={{margin: '1rem 0'}} />
                    <input 
                        type="text" 
                        value={text} 
                        onChange={(e) => setText(e.target.value)}
                        placeholder="Type something..."
                        style={{padding: '8px', borderRadius: '4px', border: '1px solid #ccc', width: '100%'}}
                    />
                    <p>Live text: {text}</p>
                </div>
            );
        };
        const useStateContainer = document.getElementById('useStateDemo');
        console.log('useStateDemo container:', useStateContainer);
        if(useStateContainer) {
            try {
                const useStateRoot = ReactDOM.createRoot(useStateContainer);
                useStateRoot.render(<UseStateDemo />);
                console.log('useStateDemo rendered successfully');
            } catch (error) {
                console.error('Error rendering useStateDemo:', error);
            }
        } else {
            console.error('useStateDemo container not found');
        }

        // --- Advanced useState Demo with History ---
        const AdvancedUseStateDemo = () => {
            const [count, setCount] = React.useState(0);
            const [step, setStep] = React.useState(1);
            const [history, setHistory] = React.useState([]);

            const increment = () => {
                const newCount = count + step;
                setCount(newCount);
                setHistory([...history, newCount]);
            };

            const decrement = () => {
                const newCount = count - step;
                setCount(newCount);
                setHistory([...history, newCount]);
            };

            const reset = () => {
                setCount(0);
                setHistory([]);
            };

            return (
                <div style={{padding: '20px', border: '1px solid #ddd', borderRadius: '8px'}}>
                    <h3 style={{marginBottom: '15px'}}>Advanced Counter: {count}</h3>
                    
                    <div style={{marginBottom: '15px'}}>
                        <label style={{marginRight: '10px'}}>Step: </label>
                        <input 
                            type="number" 
                            value={step} 
                            onChange={(e) => setStep(Number(e.target.value))}
                            min="1"
                            max="10"
                            style={{padding: '5px', borderRadius: '4px', border: '1px solid #ccc', width: '60px'}}
                        />
                    </div>
                    
                    <div style={{marginBottom: '15px'}}>
                        <button className="interactive-btn" onClick={increment} style={{marginRight: '10px'}}>
                            +{step}
                        </button>
                        <button className="interactive-btn" onClick={decrement} style={{marginRight: '10px'}}>
                            -{step}
                        </button>
                        <button className="interactive-btn" onClick={reset} style={{background: '#e74c3c'}}>
                            Reset
                        </button>
                    </div>
                    
                    <div style={{marginTop: '20px'}}>
                        <h4>History:</h4>
                        <div style={{maxHeight: '100px', overflowY: 'auto', border: '1px solid #eee', padding: '10px', backgroundColor: '#f9f9f9'}}>
                            {history.length > 0 ? history.join(' → ') : 'No history yet'}
                        </div>
                    </div>
                </div>
            );
        };
        const advancedUseStateContainer = document.getElementById('advancedUseStateDemo');
        console.log('advancedUseStateDemo container:', advancedUseStateContainer);
        if(advancedUseStateContainer) {
            try {
                const advancedUseStateRoot = ReactDOM.createRoot(advancedUseStateContainer);
                advancedUseStateRoot.render(<AdvancedUseStateDemo />);
                console.log('advancedUseStateDemo rendered successfully');
            } catch (error) {
                console.error('Error rendering advancedUseStateDemo:', error);
            }
        } else {
            console.error('advancedUseStateDemo container not found');
        }

        // --- useEffect Demo ---
        const UseEffectDemo = () => {
            const [windowSize, setWindowSize] = React.useState({
                width: window.innerWidth,
                height: window.innerHeight
            });
            const [timer, setTimer] = React.useState(0);
            const [isTimerActive, setIsTimerActive] = React.useState(false);

            React.useEffect(() => {
                const handleResize = () => {
                    setWindowSize({
                        width: window.innerWidth,
                        height: window.innerHeight
                    });
                };

                window.addEventListener('resize', handleResize);
                return () => window.removeEventListener('resize', handleResize);
            }, []);

            React.useEffect(() => {
                let interval;
                if (isTimerActive) {
                    interval = setInterval(() => {
                        setTimer(prev => prev + 1);
                    }, 1000);
                }
                return () => clearInterval(interval);
            }, [isTimerActive]);

            const toggleTimer = () => setIsTimerActive(!isTimerActive);
            const resetTimer = () => setTimer(0);

            return (
                <div style={{padding: '20px', border: '1px solid #ddd', borderRadius: '8px'}}>
                    <h3 style={{marginBottom: '15px'}}>useEffect Examples</h3>
                    
                    <div style={{marginBottom: '20px'}}>
                        <h4>Window Resize Tracker:</h4>
                        <p>Current window size: <strong>{windowSize.width} x {windowSize.height}</strong></p>
                        <p style={{fontSize: '0.9rem', color: '#666'}}>Try resizing your browser window!</p>
                    </div>
                    
                    <div style={{marginBottom: '20px'}}>
                        <h4>Timer with Cleanup:</h4>
                        <p>Timer: <strong>{timer}</strong> seconds</p>
                        <button className="interactive-btn" onClick={toggleTimer} style={{marginRight: '10px'}}>
                            {isTimerActive ? 'Pause' : 'Start'}
                        </button>
                        <button className="interactive-btn" onClick={resetTimer}>
                            Reset
                        </button>
                    </div>
                </div>
            );
        };
        const useEffectContainer = document.getElementById('useEffectDemo');
        console.log('useEffectDemo container:', useEffectContainer);
        if(useEffectContainer) {
            try {
                const useEffectRoot = ReactDOM.createRoot(useEffectContainer);
                useEffectRoot.render(<UseEffectDemo />);
                console.log('useEffectDemo rendered successfully');
            } catch (error) {
                console.error('Error rendering useEffectDemo:', error);
            }
        } else {
            console.error('useEffectDemo container not found');
        }

        // --- Event Handling Demo ---
        const EventHandlingDemo = () => {
            const [formData, setFormData] = React.useState({
                email: '',
                password: '',
                confirmPassword: ''
            });
            const [errors, setErrors] = React.useState({});
            const [isSubmitting, setIsSubmitting] = React.useState(false);
            const [submittedData, setSubmittedData] = React.useState(null);

            const validateForm = () => {
                const newErrors = {};

                if (!formData.email) {
                    newErrors.email = 'Email is required';
                } else if (!/\S+@\S+\.\S+/.test(formData.email)) {
                    newErrors.email = 'Email is invalid';
                }

                if (formData.password.length < 6) {
                    newErrors.password = 'Password must be at least 6 characters';
                }

                if (formData.password !== formData.confirmPassword) {
                    newErrors.confirmPassword = 'Passwords do not match';
                }

                setErrors(newErrors);
                return Object.keys(newErrors).length === 0;
            };

            const handleSubmit = async (e) => {
                e.preventDefault();
                
                if (!validateForm()) {
                    return;
                }

                setIsSubmitting(true);
                
                // Simulate API call
                await new Promise(resolve => setTimeout(resolve, 1000));
                
                setSubmittedData({...formData});
                setIsSubmitting(false);
            };

            const handleChange = (e) => {
                const { name, value } = e.target;
                setFormData(prev => ({ ...prev, [name]: value }));
                
                // Clear error when user starts typing
                if (errors[name]) {
                    setErrors(prev => ({ ...prev, [name]: '' }));
                }
            };

            const resetForm = () => {
                setFormData({ email: '', password: '', confirmPassword: '' });
                setErrors({});
                setSubmittedData(null);
            };

            return (
                <div style={{padding: '20px', border: '1px solid #ddd', borderRadius: '8px'}}>
                    <h3 style={{marginBottom: '15px'}}>Form with Validation</h3>
                    
                    {submittedData ? (
                        <div style={{backgroundColor: '#d4edda', padding: '15px', borderRadius: '5px', marginBottom: '20px'}}>
                            <h4 style={{color: '#155724', marginBottom: '10px'}}>✅ Form Submitted Successfully!</h4>
                            <p><strong>Email:</strong> {submittedData.email}</p>
                            <p><strong>Password:</strong> {'•'.repeat(submittedData.password.length)}</p>
                            <button className="interactive-btn" onClick={resetForm}>
                                Submit Another Form
                            </button>
                        </div>
                    ) : (
                        <form onSubmit={handleSubmit}>
                            <div style={{marginBottom: '15px'}}>
                                <label style={{display: 'block', marginBottom: '5px'}}>Email:</label>
                                <input 
                                    type="email"
                                    name="email"
                                    value={formData.email}
                                    onChange={handleChange}
                                    placeholder="Enter your email"
                                    style={{
                                        padding: '8px',
                                        borderRadius: '4px',
                                        border: errors.email ? '1px solid #dc3545' : '1px solid #ccc',
                                        width: '100%',
                                        boxSizing: 'border-box'
                                    }}
                                />
                                {errors.email && (
                                    <span style={{color: '#dc3545', fontSize: '0.9rem'}}>{errors.email}</span>
                                )}
                            </div>
                            
                            <div style={{marginBottom: '15px'}}>
                                <label style={{display: 'block', marginBottom: '5px'}}>Password:</label>
                                <input 
                                    type="password"
                                    name="password"
                                    value={formData.password}
                                    onChange={handleChange}
                                    placeholder="Enter password (min 6 chars)"
                                    style={{
                                        padding: '8px',
                                        borderRadius: '4px',
                                        border: errors.password ? '1px solid #dc3545' : '1px solid #ccc',
                                        width: '100%',
                                        boxSizing: 'border-box'
                                    }}
                                />
                                {errors.password && (
                                    <span style={{color: '#dc3545', fontSize: '0.9rem'}}>{errors.password}</span>
                                )}
                            </div>
                            
                            <div style={{marginBottom: '20px'}}>
                                <label style={{display: 'block', marginBottom: '5px'}}>Confirm Password:</label>
                                <input 
                                    type="password"
                                    name="confirmPassword"
                                    value={formData.confirmPassword}
                                    onChange={handleChange}
                                    placeholder="Confirm your password"
                                    style={{
                                        padding: '8px',
                                        borderRadius: '4px',
                                        border: errors.confirmPassword ? '1px solid #dc3545' : '1px solid #ccc',
                                        width: '100%',
                                        boxSizing: 'border-box'
                                    }}
                                />
                                {errors.confirmPassword && (
                                    <span style={{color: '#dc3545', fontSize: '0.9rem'}}>{errors.confirmPassword}</span>
                                )}
                            </div>
                            
                            <button 
                                type="submit" 
                                disabled={isSubmitting}
                                className="interactive-btn"
                                style={{width: '100%'}}
                            >
                                {isSubmitting ? 'Submitting...' : 'Submit Form'}
                            </button>
                        </form>
                    )}
                </div>
            );
        };
        const eventHandlingContainer = document.getElementById('eventHandlingDemo');
        console.log('eventHandlingDemo container:', eventHandlingContainer);
        if(eventHandlingContainer) {
            try {
                const eventHandlingRoot = ReactDOM.createRoot(eventHandlingContainer);
                eventHandlingRoot.render(<EventHandlingDemo />);
                console.log('eventHandlingDemo rendered successfully');
            } catch (error) {
                console.error('Error rendering eventHandlingDemo:', error);
            }
        } else {
            console.error('eventHandlingDemo container not found');
        }

        // --- Interactive Accordion Demo ---
        const Accordion = ({ items }) => {
            const [activeIndex, setActiveIndex] = React.useState(null);

            const onItemClick = (index) => {
                setActiveIndex(index === activeIndex ? null : index);
            };

            const renderedItems = items.map((item, index) => {
                const active = index === activeIndex ? 'active' : '';
                const contentStyle = {
                    maxHeight: active ? '200px' : '0',
                    overflow: 'hidden',
                    padding: active ? '10px' : '0 10px',
                    transition: 'all 0.3s ease-out'
                };
                return (
                    <div key={item.title} style={{borderBottom: '1px solid #ccc'}}>
                        <div 
                            onClick={() => onItemClick(index)}
                            style={{padding: '10px', cursor: 'pointer', fontWeight: 'bold'}}
                        >
                            {item.title}
                        </div>
                        <div style={contentStyle}>
                            <p>{item.content}</p>
                        </div>
                    </div>
                );
            });

            return <div style={{border: '1px solid #ccc', borderRadius: '4px'}}>{renderedItems}</div>;
        };
        
        const accordionItems = [
            { title: 'What is React?', content: 'A JavaScript library for building user interfaces.' },
            { title: 'What is JSX?', content: 'A syntax extension for JavaScript.' },
            { title: 'What are Hooks?', content: 'Functions that let you use state and other React features in functional components.' }
        ];

        const accordionContainer = document.getElementById('accordionDemo');
        console.log('accordionDemo container:', accordionContainer);
        if(accordionContainer) {
            try {
                const accordionRoot = ReactDOM.createRoot(accordionContainer);
                accordionRoot.render(<Accordion items={accordionItems} />);
                console.log('accordionDemo rendered successfully');
            } catch (error) {
                console.error('Error rendering accordionDemo:', error);
            }
        } else {
            console.error('accordionDemo container not found');
        }

        // --- useReducer Demo: To-Do List ---
        const todoReducer = (state, action) => {
            switch (action.type) {
                case 'ADD_TODO':
                    return [...state, { id: Date.now(), text: action.payload, completed: false }];
                case 'TOGGLE_TODO':
                    return state.map(todo =>
                        todo.id === action.payload ? { ...todo, completed: !todo.completed } : todo
                    );
                case 'DELETE_TODO':
                    return state.filter(todo => todo.id !== action.payload);
                default:
                    return state;
            }
        };

        const UseReducerDemo = () => {
            const [todos, dispatch] = React.useReducer(todoReducer, []);
            const [text, setText] = React.useState('');

            const handleSubmit = (e) => {
                e.preventDefault();
                if (text.trim()) {
                    dispatch({ type: 'ADD_TODO', payload: text });
                    setText('');
                }
            };

            return (
                <div>
                    <form onSubmit={handleSubmit}>
                        <input
                            type="text"
                            value={text}
                            onChange={(e) => setText(e.target.value)}
                            placeholder="Add a new to-do"
                            style={{ padding: '8px', borderRadius: '4px', border: '1px solid #ccc', marginRight: '10px' }}
                        />
                        <button type="submit" className="interactive-btn">Add</button>
                    </form>
                    <ul style={{ listStyleType: 'none', padding: 0, marginTop: '15px' }}>
                        {todos.map(todo => (
                            <li key={todo.id} style={{ display: 'flex', alignItems: 'center', marginBottom: '10px' }}>
                                <span
                                    onClick={() => dispatch({ type: 'TOGGLE_TODO', payload: todo.id })}
                                    style={{ textDecoration: todo.completed ? 'line-through' : 'none', cursor: 'pointer', flexGrow: 1 }}
                                >
                                    {todo.text}
                                </span>
                                <button
                                    onClick={() => dispatch({ type: 'DELETE_TODO', payload: todo.id })}
                                    className="interactive-btn"
                                    style={{ background: '#e74c3c', marginLeft: '10px' }}
                                >
                                    Delete
                                </button>
                            </li>
                        ))}
                    </ul>
                </div>
            );
        };
        const useReducerContainer = document.getElementById('useReducerDemo');
        if(useReducerContainer) ReactDOM.createRoot(useReducerContainer).render(<UseReducerDemo />);

        // --- useRef Demo ---
        const UseRefDemo = () => {
            const inputRef = React.useRef(null);
            const renderCount = React.useRef(0);
            const [time, setTime] = React.useState(Date.now());

            React.useEffect(() => {
                renderCount.current = renderCount.current + 1;
            });

            const handleFocus = () => {
                inputRef.current.focus();
            };

            const forceRender = () => setTime(Date.now());

            return (
                <div>
                    <input ref={inputRef} type="text" placeholder="I can be focused" style={{ padding: '8px', borderRadius: '4px', border: '1px solid #ccc' }} />
                    <button onClick={handleFocus} className="interactive-btn" style={{ marginLeft: '10px' }}>Focus Input</button>
                    <div style={{ marginTop: '15px' }}>
                        <p>This component has rendered <strong>{renderCount.current}</strong> times.</p>
                        <button onClick={forceRender} className="interactive-btn">Force Re-render</button>
                        <p style={{ fontSize: '0.9rem', color: '#666' }}>Note how the render count updates, but changing a ref value itself wouldn't cause this.</p>
                    </div>
                </div>
            );
        };
        const useRefContainer = document.getElementById('useRefDemo');
        if(useRefContainer) ReactDOM.createRoot(useRefContainer).render(<UseRefDemo />);

        // --- useContext Demo ---
        const ThemeContext = React.createContext();

        const ThemedButton = () => {
            const { theme, toggleTheme } = React.useContext(ThemeContext);
            const style = {
                backgroundColor: theme === 'light' ? '#eee' : '#333',
                color: theme === 'light' ? '#000' : '#fff',
                border: '1px solid',
                padding: '10px 20px',
                borderRadius: '5px',
                cursor: 'pointer'
            };
            return <button style={style} onClick={toggleTheme}>Toggle Theme</button>;
        };

        const Toolbar = () => {
            return (
                <div>
                    <ThemedButton />
                </div>
            );
        };

        const UseContextDemo = () => {
            const [theme, setTheme] = React.useState('light');
            const toggleTheme = () => setTheme(theme === 'light' ? 'dark' : 'light');

            return (
                <ThemeContext.Provider value={{ theme, toggleTheme }}>
                    <p>Current theme: <strong>{theme}</strong>. The button below consumes this from context.</p>
                    <Toolbar />
                </ThemeContext.Provider>
            );
        };
        const useContextContainer = document.getElementById('useContextDemo');
        if(useContextContainer) ReactDOM.createRoot(useContextContainer).render(<UseContextDemo />);

        // --- useMemo & useCallback Demo ---
        const slowFunction = (num) => {
            console.log('Calling Slow Function...');
            // This loop is intentionally slow to demonstrate memoization,
            // but not so slow that it freezes the browser.
            for (let i = 0; i <= 100000000; i++) {}
            return num * 2;
        };

        const ChildComponent = React.memo(({ onClick }) => {
            console.log('Child Component Rendered');
            return <button onClick={onClick} className="interactive-btn">Click Me</button>;
        });

        const MemoizationDemo = () => {
            const [number, setNumber] = React.useState(1);
            const [dark, setDark] = React.useState(false);

            // useMemo: Re-runs slowFunction only when 'number' changes
            const doubleNumber = React.useMemo(() => {
                return slowFunction(number);
            }, [number]);

            // useCallback: The 'handleClick' function reference doesn't change on re-renders
            // unless 'doubleNumber' changes. This prevents ChildComponent from re-rendering
            // when only the theme is changed.
            const handleClick = React.useCallback(() => {
                console.log('Button clicked! Double number is:', doubleNumber);
            }, [doubleNumber]);

            const themeStyles = {
                backgroundColor: dark ? '#333' : '#FFF',
                color: dark ? '#FFF' : '#333',
                padding: '20px',
                borderRadius: '8px',
                transition: 'all 0.3s linear'
            };

            return (
                <div style={themeStyles}>
                    <p>Open your browser console to see the effects of memoization.</p>
                    <input
                        type="number"
                        value={number}
                        onChange={e => setNumber(parseInt(e.target.value))}
                        style={{ padding: '8px', borderRadius: '4px', border: '1px solid #ccc' }}
                    />
                    <button onClick={() => setDark(prevDark => !prevDark)} className="interactive-btn" style={{marginLeft: '10px'}}>
                        Change Theme
                    </button>
                    <h3 style={{marginTop: '15px'}}>Calculated Number: {doubleNumber}</h3>
                    <div style={{marginTop: '15px'}}>
                        <ChildComponent onClick={handleClick} />
                    </div>
                </div>
            );
        };
        const memoizationContainer = document.getElementById('memoizationDemo');
        if(memoizationContainer) ReactDOM.createRoot(memoizationContainer).render(<MemoizationDemo />);

    </script>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // --- Global state for search navigation ---
            let searchMatches = [];
            let currentMatchIndex = -1;

            // --- Dark Mode Logic ---
            const darkModeToggle = document.getElementById('darkModeToggle');
            const body = document.body;
            if (localStorage.getItem('theme') === 'dark') {
                body.classList.add('dark-mode');
                darkModeToggle.checked = true;
            }
            darkModeToggle.addEventListener('change', () => {
                if (darkModeToggle.checked) {
                    body.classList.add('dark-mode');
                    localStorage.setItem('theme', 'dark');
                } else {
                    body.classList.remove('dark-mode');
                    localStorage.setItem('theme', 'light');
                }
            });
            
            // --- Back to Top Button Logic ---
            const backToTopBtn = document.getElementById('backToTopBtn');
            window.onscroll = () => {
                if (document.body.scrollTop > 300 || document.documentElement.scrollTop > 300) {
                    backToTopBtn.style.display = "block";
                } else {
                    backToTopBtn.style.display = "none";
                }
            };
            backToTopBtn.addEventListener('click', () => window.scrollTo({ top: 0, behavior: 'smooth' }));

            // --- Sticky Search Bar Logic ---
            const searchContainer = document.getElementById('searchContainer');
            if (searchContainer) {
                const searchBarOffset = searchContainer.offsetTop;
                const handleStickySearch = () => window.scrollY > searchBarOffset ? searchContainer.classList.add('sticky-shadow') : searchContainer.classList.remove('sticky-shadow');
                window.addEventListener('scroll', handleStickySearch);
            }

            // --- Scroll Animation (Intersection Observer) ---
            const sections = document.querySelectorAll('.section');
            const sectionObserver = new IntersectionObserver((entries, observer) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('is-visible');
                        observer.unobserve(entry.target);
                    }
                });
            }, { root: null, rootMargin: '0px', threshold: 0.1 });
            sections.forEach(section => sectionObserver.observe(section));

            // --- Table of Contents (TOC) Generation ---
            const tocList = document.querySelector('#tocNav ul');
            const createIdFromText = (text) => {
                return text.trim().toLowerCase().replace(/[^a-z0-9\s-]/g, '').replace(/[\s-]+/g, '-');
            };
            
            // Wait a bit for React components to render
            setTimeout(() => {

            console.log('Found sections:', sections.length);
            sections.forEach((section, index) => {
                const titleElement = section.querySelector('h2');
                if (titleElement) {
                    const titleText = titleElement.textContent.replace(/^[^\w]*/, '').trim();
                    const sectionId = createIdFromText(titleText);
                    section.id = sectionId;
                    
                    console.log(`Section ${index}: "${titleText}" -> ID: "${sectionId}"`);

                    const listItem = document.createElement('li');
                    const link = document.createElement('a');
                    link.href = `#${sectionId}`;
                    link.textContent = titleText;
                    listItem.appendChild(link);
                    tocList.appendChild(listItem);
                } else {
                    console.log(`Section ${index}: No h2 found`);
                }
            });
            }, 1000); // Wait 1 second for React components to render

            // --- Search Functionality ---
            const searchInput = document.getElementById('searchInput');
            const searchButton = document.getElementById('searchButton');
            const clearSearchButton = document.getElementById('clearSearchButton');
            const allSearchableElements = document.querySelectorAll('.section h2, .section h3, .section h4, .section p, .section li, .section pre, .card p, .card li');
            const originalContent = new Map();
            allSearchableElements.forEach(el => originalContent.set(el, el.innerHTML));
            
            const searchNav = document.getElementById('searchNav');
            const searchNavUp = document.getElementById('searchNavUp');
            const searchNavDown = document.getElementById('searchNavDown');
            const searchNavCount = document.getElementById('searchNavCount');

            const clearHighlights = () => {
                originalContent.forEach((html, el) => el.innerHTML = html);
                searchMatches = [];
                currentMatchIndex = -1;
                searchNav.style.display = 'none';
            };

            const performSearch = () => {
                clearHighlights();
                const query = searchInput.value.trim();
                if (!query) return;

                const escapedQuery = query.replace(/[-\/\\^$*+?.()|[\]{}]/g, '\\$&');
                const searchRegex = new RegExp(`(${escapedQuery})`, 'gi');

                allSearchableElements.forEach(el => {
                    const originalHtml = originalContent.get(el);
                    if (originalHtml && searchRegex.test(el.textContent)) {
                        const newHtml = originalHtml.replace(searchRegex, `<span class="highlight">$1</span>`);
                        el.innerHTML = newHtml;
                    }
                });

                searchMatches = Array.from(document.querySelectorAll('.highlight'));

                if (searchMatches.length > 0) {
                    currentMatchIndex = 0;
                    searchNav.style.display = 'flex';
                    updateSearchNav();
                    searchMatches[currentMatchIndex].scrollIntoView({ behavior: 'smooth', block: 'center' });
                    highlightCurrentMatch();
                } else {
                    searchNav.style.display = 'none';
                }
            };

            const updateSearchNav = () => {
                if (searchMatches.length > 0) {
                    searchNavCount.textContent = `${currentMatchIndex + 1} of ${searchMatches.length}`;
                }
            };

            const highlightCurrentMatch = () => {
                document.querySelectorAll('.current-search-match').forEach(el => el.classList.remove('current-search-match'));
                if(searchMatches[currentMatchIndex]) {
                    searchMatches[currentMatchIndex].classList.add('current-search-match');
                }
            }
            
            if (searchButton) searchButton.addEventListener('click', performSearch);
            if (searchInput) searchInput.addEventListener('keyup', e => e.key === 'Enter' && performSearch());
            if (clearSearchButton) {
                clearSearchButton.addEventListener('click', () => {
                    searchInput.value = '';
                    clearHighlights();
                });
            }

            // Search Navigation Listeners
            if(searchNavDown) {
                searchNavDown.addEventListener('click', () => {
                    if (searchMatches.length === 0) return;
                    currentMatchIndex = (currentMatchIndex + 1) % searchMatches.length;
                    searchMatches[currentMatchIndex].scrollIntoView({ behavior: 'smooth', block: 'center' });
                    updateSearchNav();
                    highlightCurrentMatch();
                });
            }

            if(searchNavUp) {
                searchNavUp.addEventListener('click', () => {
                    if (searchMatches.length === 0) return;
                    currentMatchIndex = (currentMatchIndex - 1 + searchMatches.length) % searchMatches.length;
                    searchMatches[currentMatchIndex].scrollIntoView({ behavior: 'smooth', block: 'center' });
                    updateSearchNav();
                    highlightCurrentMatch();
                });
            }
        });
    </script>
</body>
</html>
